(self.webpackChunkaudit_widatra=self.webpackChunkaudit_widatra||[]).push([[9447],{86928:function(t,e,i){"use strict";var a=i(23645),r=i.n(a)()((function(t){return t[1]}));r.push([t.id,".audit-report-date .input-group .form-control{background-color:#fff!important}",""]),e.Z=r},89447:function(t,e,i){"use strict";i.r(e),i.d(e,{default:function(){return f}});var a=i(30381),r=i.n(a),o=i(44612),n={name:"form-auditor-report",metaInfo:{title:"Form Auditor Report"},components:{MaskedInput:i.n(o)()},data:function(){return{urlSubmit:"/AdminVue/auditor-report-insert",headerCard:"Form / Create Data Auditor Report",textBtnSubmit:"Create",field:{File:"",Auditor:"",Auditee:"",Observer:"",LeadAuditor:"",AuditClause:[{StandartAudit:"",Clause:""}]},allErrors:[],opsClauseAudit:[],opsIdAudit:[],oldFileAttachment:[],clauseSelect:[],opsType:[{value:"Critical",text:"Critical"},{value:"Major",text:"Major"},{value:"Minor",text:"Minor"},{value:"Observasi",text:"Observasi"}],formatDate:"dd/MM/yyyy",disabledDate:{},timeMask:[/\d/,/\d/,":",/\d/,/\d/],isNotif:!1,isFormEdit:!1,alertNotif:"",alertVariant:"alert-dark-danger"}},methods:{submitForm:function(){var t=new FormData;t.append("Id",this.field.Id),t.append("NoTrans",this.field.IdAuditPlan.NoTrans),t.append("IdAuditSelection",this.field.IdAuditPlan.Id),t.append("IdAuditPlane",this.field.IdAuditPlan.IdAuditPlane),t.append("IdDepartmentAuditee",this.field.IdAuditPlan.IdDepartmentAuditee),t.append("IdPositionAuditee",this.field.IdPositionAuditee),t.append("OrganizerAudit",this.field.IdAuditPlan.OrganizerAudit),t.append("AuditorDate",r()(this.field.AuditorDate).format("MM/DD/YYYY")),t.append("PotentialNonConformitiy",this.field.PotentialNonConformitiy),t.append("TypeNonConformity",this.field.TypeNonConformity.value),t.append("HeadAuditee",this.field.HeadAuditee),t.append("HeadAuditeePosition",this.field.HeadAuditeePosition),t.append("IdLeadAuditor",this.field.IdLeadAuditor),t.append("CriteriaFound",JSON.stringify(this.field.CriteriaFound));for(var e=0;e<this.field.File.length;e++){var i=this.field.File[e];t.append("FileAttachment["+e+"]",i)}t.append("OldFileAttachment",JSON.stringify(this.oldFileAttachment));axios.post(this.urlSubmit,t,{headers:{"content-type":"multipart/form-data"}}).then(function(t){var e=t.data;e.status?this.$router.push({name:"audit/data-auditor-report",params:{isNotif:!0,gNotif:"notifications-success",tNotif:this.textBtnSubmit+" Data Success",txNotif:"Save Data Success!"}}):(this.isNotif=!0,this.alertNotif=e.message,this.alertVariant="alert-dark-danger",this.allErrors=e.validation)}.bind(this)).catch(function(t){console.log(t),this.isNotif=!0,this.alertNotif="Invalid Server Side!",this.alertVariant="alert-dark-danger"}.bind(this))},getData:function(t){axios.post("/AdminVue/auditor-report-edit",{Id:t}).then(function(t){var e=t.data;if(this.field=e.data,this.field.File=[],""!=this.field.Path)for(var i=this.field.Path.length,a=0;a<i;a++)this.oldFileAttachment.push(this.field.Path[a]),this.field.File.push("/"+this.field.Path[a]);else this.oldFileAttachment="";var o=r()(this.field.OpeningMeeting).format("YYYY"),n=r()(this.field.OpeningMeeting).format("MM")-1,l=r()(this.field.OpeningMeeting).format("DD");this.disabledDate={to:new Date(o,n,l)},this.getAuditDetail(this.field.IdAuditSelection)}.bind(this)).catch(function(t){console.log(t),this.isNotif=!0,this.alertNotif="Invalid Server Side!",this.alertVariant="alert-dark-danger"}.bind(this))},getSelect:function(){axios.post("/AdminVue/auditor-report-getSelect").then(function(t){this.opsIdAudit=t.data.IdAudit}.bind(this)).catch(function(t){console.log(t),this.opsIdAudit=[]}.bind(this))},convertSelectBox:function(t){var e=t.NoTrans,i=t.DepartmentAuditee;return"".concat(e," - ").concat(i)},getAuditDetailSelect:function(t){var e=r()(t.OpeningMeeting).format("YYYY"),i=r()(t.OpeningMeeting).format("MM")-1,a=r()(t.OpeningMeeting).format("DD");this.disabledDate={to:new Date(e,i,a)},this.getAuditDetail(t.Id)},getAuditDetail:function(t){axios.post("/AdminVue/auditor-report-getAuditDetail",{IdAuditSelection:t}).then(function(t){this.field.LeadAuditor=t.data.LeadAuditor,this.field.Auditor=t.data.Auditor,this.field.Auditee=t.data.Auditee,this.field.Observer=t.data.Observer,this.field.HeadAuditee=t.data.HeadAuditee,this.field.HeadAuditeePosition=t.data.HeadAuditeePosition,this.field.AuditClause=t.data.AuditClause,this.field.IdPositionAuditee=t.data.IdPositionAuditee,this.field.IdLeadAuditor=t.data.IdLeadAuditor;for(var e=0;e<this.field.AuditClause.length;e++)for(var i=JSON.parse(this.field.AuditClause[e].IdClauseAudit),a=0;a<i.length;a++)this.clauseSelect.push(i[a].Id);this.getFoundCriteria(this.clauseSelect)}.bind(this)).catch(function(t){console.log(t)}.bind(this))},getFoundCriteria:function(t){axios.post("/AdminVue/auditor-report-getFoundCriteria",{ClauseArr:t}).then(function(t){this.opsClauseAudit=t.data.Clause}.bind(this)).catch(function(t){console.log(t),this.opsClauseAudit=[]}.bind(this))},backIndex:function(){this.$router.push("/RoleAdmin/audit/data-auditor-report")},priviewFile:function(){if(""!=this.oldFileAttachment)for(var t=0;t<this.oldFileAttachment.length;t++){var e="/"+this.oldFileAttachment[t];window.open(e,"_blank")}},handleFile:function(t){this.field.File=t.map((function(t){return t.file}))},handleRemove:function(t,e){if(1==this.isFormEdit){var i=this.oldFileAttachment.indexOf(e.source.replace("/clouds","clouds"));this.oldFileAttachment.splice(i,1)}},getClauseDetail:function(t){},removeClauseDetail:function(t){}},mounted:function(){if(this.$route.params.isFormEdit){var t=this.$route.params.Id;t&&(this.getData(t),this.field.Id=t,this.isFormEdit=!0,this.urlSubmit="/AdminVue/auditor-report-update",this.headerCard="Form / Edit Data Auditor Report",this.textBtnSubmit="Update")}this.getSelect()}},l=i(93379),s=i.n(l),d=i(86928),u={insert:"head",singleton:!1},f=(s()(d.Z,u),d.Z.locals,(0,i(51900).Z)(n,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("b-card",{staticClass:"mb-4",attrs:{header:t.headerCard,"header-tag":"h4"}},[t.isNotif?i("div",{staticClass:"alert alert-dismissible fade show",class:[t.alertVariant]},[i("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"alert"},on:{click:function(e){t.isNotif=!t.isNotif}}},[t._v("Ã—")]),t._v("\n      "+t._s(t.alertNotif)+"\n    ")]):t._e(),t._v(" "),i("form",{attrs:{method:"POST"},on:{submit:function(e){return e.preventDefault(),t.submitForm()}}},[i("b-form-row",[i("b-form-group",{staticClass:"col-md-4"},[i("label",{staticClass:"form-label"},[t._v("Id Audit Plan")]),t._v(" "),i("label",{staticClass:"form-label float-right text-danger"},[t._v("*Wajib Diisi")]),t._v(" "),i("multiselect",{attrs:{options:t.opsIdAudit,"allow-empty":!1,"show-labels":!1,"custom-label":t.convertSelectBox,placeholder:"Pilih Id Audit Plan",label:"NoTrans","track-by":"NoTrans"},on:{select:t.getAuditDetailSelect},model:{value:t.field.IdAuditPlan,callback:function(e){t.$set(t.field,"IdAuditPlan",e)},expression:"field.IdAuditPlan"}}),t._v(" "),t.allErrors.Organizer?i("span",{staticClass:"text-danger"},[t._v(t._s(t.allErrors.Organizer[0]))]):t._e()],1),t._v(" "),i("b-form-group",{staticClass:"col-md-4"},[i("label",{staticClass:"form-label"},[t._v("Audit Date")]),t._v(" "),i("label",{staticClass:"form-label float-right text-danger"},[t._v("*Wajib Diisi")]),t._v(" "),i("datepicker",{staticClass:"mb-1 audit-report-date",attrs:{format:t.formatDate,state:!t.allErrors.AuditorDate&&null,bootstrapStyling:!0,"disabled-dates":t.disabledDate},model:{value:t.field.AuditorDate,callback:function(e){t.$set(t.field,"AuditorDate",e)},expression:"field.AuditorDate"}})],1),t._v(" "),i("b-form-group",{staticClass:"col-md-4"},[i("label",{staticClass:"form-label"},[t._v("Ref.Number")]),t._v(" "),i("b-input",{staticClass:"mb-1",attrs:{name:"IDAudit",state:!t.allErrors.IDAudit&&null,readonly:""},model:{value:t.field.IDAudit,callback:function(e){t.$set(t.field,"IDAudit",e)},expression:"field.IDAudit"}}),t._v(" "),t.allErrors.IDAudit?i("span",{staticClass:"text-danger"},[t._v(t._s(t.allErrors.IDAudit[0]))]):t._e()],1)],1),t._v(" "),i("b-form-row",[i("b-form-group",{staticClass:"col-md-4"},[i("label",{staticClass:"form-label"},[t._v("Lead Auditor")]),t._v(" "),i("b-input",{staticClass:"mb-1",attrs:{name:"LeadAuditor",state:!t.allErrors.LeadAuditor&&null,readonly:""},model:{value:t.field.LeadAuditor,callback:function(e){t.$set(t.field,"LeadAuditor",e)},expression:"field.LeadAuditor"}}),t._v(" "),t.allErrors.LeadAuditor?i("span",{staticClass:"text-danger"},[t._v(t._s(t.allErrors.LeadAuditor[0]))]):t._e()],1),t._v(" "),i("b-form-group",{staticClass:"col-md-4"},[i("label",{staticClass:"form-label"},[t._v("Auditor")]),t._v(" "),i("b-input",{staticClass:"mb-1",attrs:{name:"Auditor",state:!t.allErrors.Auditor&&null,readonly:""},model:{value:t.field.Auditor,callback:function(e){t.$set(t.field,"Auditor",e)},expression:"field.Auditor"}}),t._v(" "),t.allErrors.Organizer?i("span",{staticClass:"text-danger"},[t._v(t._s(t.allErrors.Organizer[0]))]):t._e()],1),t._v(" "),i("b-form-group",{staticClass:"col-md-4"},[i("label",{staticClass:"form-label"},[t._v("Auditee")]),t._v(" "),i("b-input",{staticClass:"mb-1",attrs:{name:"Auditee",state:!t.allErrors.Auditee&&null,readonly:""},model:{value:t.field.Auditee,callback:function(e){t.$set(t.field,"Auditee",e)},expression:"field.Auditee"}}),t._v(" "),t.allErrors.Organizer?i("span",{staticClass:"text-danger"},[t._v(t._s(t.allErrors.Organizer[0]))]):t._e()],1)],1),t._v(" "),i("b-card",{staticClass:"mb-4",scopedSlots:t._u([{key:"header",fn:function(){return[i("h4",[t._v("Standart Audit")])]},proxy:!0}])},[t._v(" "),t._l(t.field.AuditClause,(function(e,a){return i("b-form-row",{key:a},[i("b-form-group",{staticClass:"col-md-6"},[0==a?i("label",[t._v("Standart ")]):t._e(),t._v(" "),i("b-input",{staticClass:"mb-1",attrs:{name:"StandartAudit",state:!t.allErrors.StandartAudit&&null,readonly:""},model:{value:e.StandartAudit,callback:function(i){t.$set(e,"StandartAudit",i)},expression:"item.StandartAudit"}}),t._v(" "),t.allErrors.StandartAudit?i("span",{staticClass:"text-danger"},[t._v(t._s(t.allErrors.StandartAudit[0]))]):t._e()],1),t._v(" "),i("b-form-group",{staticClass:"col-md-6"},[0==a?i("label",[t._v("Clause")]):t._e(),t._v(" "),i("b-input",{staticClass:"mb-1",attrs:{name:"Clause",state:!t.allErrors.Clause&&null,readonly:""},model:{value:e.Clause,callback:function(i){t.$set(e,"Clause",i)},expression:"item.Clause"}}),t._v(" "),t.allErrors.Clause?i("span",{staticClass:"text-danger"},[t._v(t._s(t.allErrors.Clause[0]))]):t._e()],1)],1)}))],2),t._v(" "),i("b-form-row",[i("b-form-group",{staticClass:"col-md-3"},[i("label",{staticClass:"form-label"},[t._v("Observer")]),t._v(" "),i("b-input",{staticClass:"mb-1",attrs:{name:"Observer",state:!t.allErrors.Observer&&null,readonly:""},model:{value:t.field.Observer,callback:function(e){t.$set(t.field,"Observer",e)},expression:"field.Observer"}}),t._v(" "),t.allErrors.Organizer?i("span",{staticClass:"text-danger"},[t._v(t._s(t.allErrors.Organizer[0]))]):t._e()],1),t._v(" "),i("b-form-group",{staticClass:"col-md-6"},[i("label",[t._v("Kriteria Temuan")]),t._v(" "),i("label",{staticClass:"form-label float-right text-danger"},[t._v("*Wajib Diisi")]),t._v(" "),i("multiselect",{attrs:{options:t.opsClauseAudit,"allow-empty":!0,"show-labels":!1,multiple:!0,placeholder:"Pilih Kriteria Temuan",label:"Requirements","track-by":"Requirements"},model:{value:t.field.CriteriaFound,callback:function(e){t.$set(t.field,"CriteriaFound",e)},expression:"field.CriteriaFound"}}),t._v(" "),t.allErrors.CriteriaFound?i("span",{staticClass:"text-danger"},[t._v(t._s(t.allErrors.CriteriaFound[0]))]):t._e()],1),t._v(" "),i("b-form-group",{staticClass:"col-md-3"},[i("label",{staticClass:"form-label"},[t._v("Type of Non Conformity")]),t._v(" "),i("label",{staticClass:"form-label float-right text-danger"},[t._v("*Wajib Diisi")]),t._v(" "),i("multiselect",{attrs:{options:t.opsType,"allow-empty":!1,"show-labels":!1,"preselect-first":!0,placeholder:"Pilih Type Non Conformity",label:"text","track-by":"text"},model:{value:t.field.TypeNonConformity,callback:function(e){t.$set(t.field,"TypeNonConformity",e)},expression:"field.TypeNonConformity"}}),t._v(" "),t.allErrors.TypeNonConformity?i("span",{staticClass:"text-danger"},[t._v(t._s(t.allErrors.TypeNonConformity[0]))]):t._e()],1)],1),t._v(" "),i("b-form-row",[i("b-form-group",{staticClass:"col-md-6"},[i("label",{staticClass:"form-label"},[t._v("Potential Non Comformity")]),t._v(" "),i("b-form-textarea",{attrs:{name:"PotentialNonConformitiy",rows:"3","no-resize":""},model:{value:t.field.PotentialNonConformitiy,callback:function(e){t.$set(t.field,"PotentialNonConformitiy",e)},expression:"field.PotentialNonConformitiy"}})],1),t._v(" "),i("b-form-group",{staticClass:"col-md-6"},[i("label",[t._v("Attachment")]),t._v(" "),i("file-pond",{ref:"pondMyFile",attrs:{name:"File","label-idle":"Klik Untuk Menambahkan Attachment","allow-multiple":!0,files:t.field.File,required:""},on:{updatefiles:t.handleFile,removefile:t.handleRemove}}),t._v(" "),"Update"==t.textBtnSubmit?i("b-btn",{staticClass:"float-right",attrs:{type:"button",variant:"secondary"},on:{click:function(e){return t.priviewFile()}}},[t._v("Preview File")]):t._e()],1)],1),t._v(" "),i("b-form-row",[i("b-form-group",{staticClass:"col-md-6"}),t._v(" "),i("b-form-group",{staticClass:"col-md-6",attrs:{label:""}},[i("b-btn",{staticClass:"float-right ml-2",attrs:{type:"submit",variant:"primary"}},[t._v(t._s(t.textBtnSubmit))]),t._v(" "),i("b-btn",{staticClass:"float-right",attrs:{type:"button",variant:"secondary"},on:{click:function(e){return t.backIndex()}}},[t._v("Back")])],1)],1)],1)])],1)}),[],!1,null,null,null).exports)},44612:function(t){t.exports=function(t){function e(a){if(i[a])return i[a].exports;var r=i[a]={exports:{},id:a,loaded:!1};return t[a].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.conformToMask=void 0;var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a])}return t},o=i(2);Object.defineProperty(e,"conformToMask",{enumerable:!0,get:function(){return a(o).default}});var n=a(i(5));e.default={render:function(t){var e=this;return t("input",{ref:"input",domProps:{value:this.value},attrs:this.$attrs,on:Object.assign(r({},this.$listeners),{input:function(t){return e.updateValue(t.target.value)}})})},name:"masked-input",inheritAttrs:!1,props:{value:{type:String,required:!1,default:""},mask:{type:[Array,Function,Boolean,Object],required:!0},guide:{type:Boolean,required:!1},placeholderChar:{type:String,required:!1},keepCharPositions:{type:Boolean,required:!1},pipe:{type:Function,required:!1},showMask:{type:Boolean,required:!1}},mounted:function(){this.initMask()},methods:{createTextMaskInputElement:n.default,setTextMaskInputElement:function(){this.textMaskInputElement=this.createTextMaskInputElement(r({inputElement:this.$refs.input},this.$options.propsData))},initMask:function(){this.setTextMaskInputElement(),this.textMaskInputElement.update(this.value)},bind:function(){this.setTextMaskInputElement(),this.updateValue(this.value)},updateValue:function(t){this.textMaskInputElement.update(t),this.$emit("input",this.$refs.input.value)}},watch:{mask:function(t,e){this.mask!==e&&this.bind()},guide:function(){this.bind()},placeholderChar:function(){this.bind()},keepCharPositions:function(){this.bind()},pipe:function(){this.bind()},showMask:function(){this.bind()}}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.placeholderChar="_",e.strFunction="function"},function(t,e,i){"use strict";function a(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!(0,o.isArray)(e)){if((void 0===e?"undefined":r(e))!==n.strFunction)throw new Error("Text-mask:conformToMask; The mask property must be an array.");e=e(t,i),e=(0,o.processCaretTraps)(e).maskWithoutCaretTraps}var a=i.guide,d=void 0===a||a,u=i.previousConformedValue,f=void 0===u?s:u,c=i.placeholderChar,p=void 0===c?n.placeholderChar:c,h=i.placeholder,m=void 0===h?(0,o.convertMaskToPlaceholder)(e,p):h,v=i.currentCaretPosition,b=i.keepCharPositions,g=!1===d&&void 0!==f,C=t.length,A=f.length,_=m.length,y=e.length,k=C-A,x=k>0,P=v+(x?-k:0),S=P+Math.abs(k);if(!0===b&&!x){for(var I=s,O=P;O<S;O++)m[O]===p&&(I+=p);t=t.slice(0,P)+I+t.slice(P,C)}for(var E=t.split(s).map((function(t,e){return{char:t,isNew:e>=P&&e<S}})),F=C-1;F>=0;F--){var M=E[F].char;M!==p&&M===m[F>=P&&A===y?F-k:F]&&E.splice(F,1)}var w=s,D=!1;t:for(var N=0;N<_;N++){var T=m[N];if(T===p){if(E.length>0)for(;E.length>0;){var V=E.shift(),j=V.char,$=V.isNew;if(j===p&&!0!==g){w+=p;continue t}if(e[N].test(j)){if(!0===b&&!1!==$&&f!==s&&!1!==d&&x){for(var L=E.length,R=null,q=0;q<L;q++){var B=E[q];if(B.char!==p&&!1===B.isNew)break;if(B.char===p){R=q;break}}null!==R?(w+=j,E.splice(R,1)):N--}else w+=j;continue t}D=!0}!1===g&&(w+=m.substr(N,_));break}w+=T}if(g&&!1===x){for(var Y=null,z=0;z<w.length;z++)m[z]===p&&(Y=z);w=null!==Y?w.substr(0,Y+1):s}return{conformedValue:w,meta:{someCharsRejected:D}}}Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.default=a;var o=i(3),n=i(1),l=[],s=""},function(t,e,i){"use strict";function a(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d.placeholderChar;if(!r(t))throw new Error("Text-mask:convertMaskToPlaceholder; The mask property must be an array.");if(-1!==t.indexOf(e))throw new Error("Placeholder character must not be used as part of the mask. Please specify a character that is not present in your mask as your placeholder character.\n\nThe placeholder character that was received is: "+JSON.stringify(e)+"\n\nThe mask that was received is: "+JSON.stringify(t));return t.map((function(t){return t instanceof RegExp?e:t})).join("")}function r(t){return Array.isArray&&Array.isArray(t)||t instanceof Array}function o(t){return"string"==typeof t||t instanceof String}function n(t){return"number"==typeof t&&void 0===t.length&&!isNaN(t)}function l(t){return null==t}function s(t){for(var e=[],i=void 0;-1!==(i=t.indexOf(f));)e.push(i),t.splice(i,1);return{maskWithoutCaretTraps:t,indexes:e}}Object.defineProperty(e,"__esModule",{value:!0}),e.convertMaskToPlaceholder=a,e.isArray=r,e.isString=o,e.isNumber=n,e.isNil=l,e.processCaretTraps=s;var d=i(1),u=[],f="[]"},function(t,e){"use strict";function i(t){var e=t.previousConformedValue,i=void 0===e?r:e,o=t.previousPlaceholder,n=void 0===o?r:o,l=t.currentCaretPosition,s=void 0===l?0:l,d=t.conformedValue,u=t.rawValue,f=t.placeholderChar,c=t.placeholder,p=t.indexesOfPipedChars,h=void 0===p?a:p,m=t.caretTrapIndexes,v=void 0===m?a:m;if(0===s||!u.length)return 0;var b=u.length,g=i.length,C=c.length,A=d.length,_=b-g,y=_>0;if(_>1&&!y&&0!==g)return s;var k=0,x=void 0,P=void 0;if(!y||i!==d&&d!==c){var S=d.toLowerCase(),I=u.toLowerCase().substr(0,s).split(r).filter((function(t){return-1!==S.indexOf(t)}));P=I[I.length-1];var O=n.substr(0,I.length).split(r).filter((function(t){return t!==f})).length,E=c.substr(0,I.length).split(r).filter((function(t){return t!==f})).length,F=E!==O,M=void 0!==n[I.length-1]&&void 0!==c[I.length-2]&&n[I.length-1]!==f&&n[I.length-1]!==c[I.length-1]&&n[I.length-1]===c[I.length-2];!y&&(F||M)&&O>0&&c.indexOf(P)>-1&&void 0!==u[s]&&(x=!0,P=u[s]);for(var w=h.map((function(t){return S[t]})),D=w.filter((function(t){return t===P})).length,N=I.filter((function(t){return t===P})).length,T=c.substr(0,c.indexOf(f)).split(r).filter((function(t,e){return t===P&&u[e]!==t})).length,V=T+N+D+(x?1:0),j=0,$=0;$<A&&(k=$+1,S[$]===P&&j++,!(j>=V));$++);}else k=s-_;if(y){for(var L=k,R=k;R<=C;R++)if(c[R]===f&&(L=R),c[R]===f||-1!==v.indexOf(R)||R===C)return L}else if(x){for(var q=k-1;q>=0;q--)if(d[q]===P||-1!==v.indexOf(q)||0===q)return q}else for(var B=k;B>=0;B--)if(c[B-1]===f||-1!==v.indexOf(B)||0===B)return B}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var a=[],r=""},function(t,e,i){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}function r(t){var e={previousConformedValue:void 0,previousPlaceholder:void 0};return{state:e,update:function(i){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,r=a.inputElement,h=a.mask,v=a.guide,b=a.pipe,g=a.placeholderChar,C=void 0===g?c.placeholderChar:g,A=a.keepCharPositions,_=void 0!==A&&A,y=a.showMask,k=void 0!==y&&y;if(void 0===i&&(i=r.value),i!==e.previousConformedValue){(void 0===h?"undefined":s(h))===m&&void 0!==h.pipe&&void 0!==h.mask&&(b=h.pipe,h=h.mask);var x=void 0,P=void 0;if(h instanceof Array&&(x=(0,f.convertMaskToPlaceholder)(h,C)),!1!==h){var S=n(i),I=r.selectionEnd,O=e.previousConformedValue,E=e.previousPlaceholder,F=void 0;if((void 0===h?"undefined":s(h))===c.strFunction){if(!1===(P=h(S,{currentCaretPosition:I,previousConformedValue:O,placeholderChar:C})))return;var M=(0,f.processCaretTraps)(P);P=M.maskWithoutCaretTraps,F=M.indexes,x=(0,f.convertMaskToPlaceholder)(P,C)}else P=h;var w={previousConformedValue:O,guide:v,placeholderChar:C,pipe:b,placeholder:x,currentCaretPosition:I,keepCharPositions:_},D=(0,u.default)(S,P,w).conformedValue,N=(void 0===b?"undefined":s(b))===c.strFunction,T={};N&&(!1===(T=b(D,l({rawValue:S},w)))?T={value:O,rejected:!0}:(0,f.isString)(T)&&(T={value:T}));var V=N?T.value:D,j=(0,d.default)({previousConformedValue:O,previousPlaceholder:E,conformedValue:V,placeholder:x,rawValue:S,currentCaretPosition:I,placeholderChar:C,indexesOfPipedChars:T.indexesOfPipedChars,caretTrapIndexes:F}),$=V===x&&0===j?k?x:p:V;e.previousConformedValue=$,e.previousPlaceholder=x,r.value!==$&&(r.value=$,o(r,j))}}}}}function o(t,e){document.activeElement===t&&(v?b((function(){return t.setSelectionRange(e,e,h)}),0):t.setSelectionRange(e,e,h))}function n(t){if((0,f.isString)(t))return t;if((0,f.isNumber)(t))return String(t);if(null==t)return p;throw new Error("The 'value' provided to Text Mask needs to be a string or a number. The value received was:\n\n "+JSON.stringify(t))}Object.defineProperty(e,"__esModule",{value:!0});var l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a])}return t},s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.default=r;var d=a(i(4)),u=a(i(2)),f=i(3),c=i(1),p="",h="none",m="object",v="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),b="undefined"!=typeof requestAnimationFrame?requestAnimationFrame:setTimeout}])}}]);