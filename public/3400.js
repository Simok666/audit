"use strict";(self.webpackChunkaudit_widatra=self.webpackChunkaudit_widatra||[]).push([[3400],{53400:function(t,e,a){a.r(e),a.d(e,{default:function(){return l}});a(30381);var i={name:"form-personel-auditor",metaInfo:{title:"Form Personel Auditor"},components:{},data:function(){return{urlSubmit:"/AdminVue/personel-auditor-insert",headerCard:"Form / Create Data Personel Auditor",textBtnSubmit:"Create",field:{NIK:"",Position:"",Department:"",IdEmploye:0,IdDepartment:0,IdPosition:0},allErrors:[],opsType:[{value:"Auditor",text:"Auditor"},{value:"Auditee",text:"Auditee"},{value:"Observer",text:"Observer"}],opsCategory:[{value:1,text:"Internal"},{value:2,text:"Eksternal"}],opsStatus:[{value:1,text:"Aktif"},{value:0,text:"Tidak Aktif"}],opsEmployee:[],opsDepartement:[],opsPosition:[],placeholdertext:"Pilih Departement Terlebih Dahulu",isNotif:!1,isReadOnly:!0,isSelect:!0,alertNotif:"",alertVariant:"alert-dark-danger"}},methods:{submitForm:function(){var t=new FormData;t.append("Id",this.field.Id),t.append("IdDepartment",this.field.IdDepartment),t.append("IdEmploye",this.field.IdEmploye),t.append("NIP",this.field.NIP),t.append("Name",this.field.Name),t.append("Department",this.field.DepartmentName),t.append("Position",this.field.PositionName),t.append("Category",this.field.Category.value),t.append("IdPosition",this.field.IdPosition),t.append("Type",this.field.Type.value),t.append("Status",this.field.Status.value),t.append("Email",this.field.Email);axios.post(this.urlSubmit,t,{headers:{"content-type":"multipart/form-data"}}).then(function(t){var e=t.data;e.status?this.$router.push({name:"master/data-personel-auditor",params:{isNotif:!0,gNotif:"notifications-success",tNotif:this.textBtnSubmit+" Data Success",txNotif:"Save Data Success!"}}):(this.isNotif=!0,this.alertNotif=e.message,this.alertVariant="alert-dark-danger",this.allErrors=e.validation)}.bind(this)).catch(function(t){console.log(t),this.isNotif=!0,this.alertNotif="Invalid Server Side!",this.alertVariant="alert-dark-danger"}.bind(this))},getData:function(t){axios.post("/AdminVue/personel-auditor-edit",{Id:t}).then(function(t){var e=t.data;this.field=e.data,1==this.field.Categoryvalue?(this.isReadOnly=!0,this.isSelect=!0):(this.isReadOnly=!1,this.isSelect=!1),this.getPosition(this.field.IdDepartment,!0),this.getSelect(this.field.IdEmploye)}.bind(this)).catch(function(t){console.log(t),this.isNotif=!0,this.alertNotif="Invalid Server Side!",this.alertVariant="alert-dark-danger"}.bind(this))},getSelect:function(t){axios.post("/AdminVue/personel-auditor-getSelect",{IdEmploye:t}).then(function(t){this.opsEmployee=t.data.employee,this.opsDepartement=t.data.departement}.bind(this)).catch(function(t){console.log(t),this.opsEmployee=[],this.opsDepartement=[]}.bind(this))},getPosition:function(t,e){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;axios.post("/AdminVue/personel-auditor-getPosition",{IdDepartment:t}).then(function(t){this.opsPosition=t.data.position,0==e&&(this.placeholdertext="Pilih Posisition",this.field.Position=""),1==a&&(this.field.Position=[{Id:i,Name:s}],this.field.IdPosition=i,this.field.PositionName=s)}.bind(this)).catch(function(t){console.log(t),this.opsPosition=[]}.bind(this))},getEmployeeNip:function(t){this.field.NIP=t.NIP,this.field.IdEmploye=t.Id,this.field.Name=t.Name,this.field.Email=t.Email,this.field.Department=[{Id:t.IdDepartment,Department:t.Department}],this.field.IdDepartment=t.Id,this.field.DepartmentName=t.Department,this.getPosition(t.IdDepartment,!1,!0,t.IdPosition,t.Position)},getPositionSelect:function(t){this.field.IdDepartment=t.Id,this.field.DepartmentName=t.Department,this.getPosition(t.Id,!1)},getPositionId:function(t){this.field.IdPosition=t.Id,this.field.PositionName=t.Name},backIndex:function(){this.$router.push("/RoleAdmin/master/data-personel-auditor")},getClassification:function(t){"Internal"==t.text?(this.isReadOnly=!0,this.isSelect=!0):(this.isReadOnly=!1,this.isSelect=!1)}},mounted:function(){if(this.$route.params.isFormEdit){var t=this.$route.params.Id;t&&(this.getData(t),this.field.Id=t,this.urlSubmit="/AdminVue/personel-auditor-update",this.headerCard="Form / Edit Data Personel Auditor",this.textBtnSubmit="Update")}else this.getSelect(this.field.IdEmploye)}},s=i,l=(0,a(51900).Z)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-card",{staticClass:"mb-4",attrs:{header:t.headerCard,"header-tag":"h4"}},[t.isNotif?a("div",{staticClass:"alert alert-dismissible fade show",class:[t.alertVariant]},[a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"alert"},on:{click:function(e){t.isNotif=!t.isNotif}}},[t._v("Ã—")]),t._v("\n      "+t._s(t.alertNotif)+"\n    ")]):t._e(),t._v(" "),a("form",{attrs:{method:"POST"},on:{submit:function(e){return e.preventDefault(),t.submitForm()}}},[a("b-form-row",[a("b-form-group",{staticClass:"col-md-4"},[a("label",{staticClass:"form-label"},[t._v("Klasifikasi")]),t._v(" "),a("label",{staticClass:"form-label float-right text-danger"},[t._v("*Wajib Diisi")]),t._v(" "),a("multiselect",{attrs:{options:t.opsCategory,"allow-empty":!1,"preselect-first":!0,"show-labels":!1,placeholder:"Pilih Klasifikasi",label:"text","track-by":"text"},on:{select:t.getClassification},model:{value:t.field.Category,callback:function(e){t.$set(t.field,"Category",e)},expression:"field.Category"}}),t._v(" "),t.allErrors.Category?a("span",{staticClass:"text-danger"},[t._v(t._s(t.allErrors.Category[0]))]):t._e()],1),t._v(" "),a("b-form-group",{staticClass:"col-md-4"},[a("label",{staticClass:"form-label"},[t._v("Nama Karyawan")]),t._v(" "),a("label",{staticClass:"form-label float-right text-danger"},[t._v("*Wajib Diisi")]),t._v(" "),1==t.isSelect?a("multiselect",{attrs:{options:t.opsEmployee,"allow-empty":!1,"show-labels":!1,placeholder:"Pilih Karyawan",label:"Name","track-by":"Name"},on:{select:t.getEmployeeNip},model:{value:t.field.Employee,callback:function(e){t.$set(t.field,"Employee",e)},expression:"field.Employee"}}):t._e(),t._v(" "),0==t.isSelect?a("b-input",{staticClass:"mb-1",attrs:{name:"Name",state:!t.allErrors.Name&&null},model:{value:t.field.Name,callback:function(e){t.$set(t.field,"Name",e)},expression:"field.Name"}}):t._e(),t._v(" "),t.allErrors.Name?a("span",{staticClass:"text-danger"},[t._v(t._s(t.allErrors.Name[0]))]):t._e()],1),t._v(" "),a("b-form-group",{staticClass:"col-md-4"},[a("label",{staticClass:"form-label"},[t._v("NIK/NIP")]),t._v(" "),a("b-input",{staticClass:"mb-1",attrs:{name:"NIP",state:!t.allErrors.NIP&&null,type:"number",readonly:t.isReadOnly},model:{value:t.field.NIP,callback:function(e){t.$set(t.field,"NIP",e)},expression:"field.NIP"}}),t._v(" "),t.allErrors.NIK?a("span",{staticClass:"text-danger"},[t._v(t._s(t.allErrors.NIK[0]))]):t._e()],1)],1),t._v(" "),a("b-form-row",[a("b-form-group",{staticClass:"col-md-4"},[a("label",{staticClass:"form-label"},[t._v("Departement")]),t._v(" "),a("label",{staticClass:"form-label float-right text-danger"},[t._v("*Wajib Diisi")]),t._v(" "),1==t.isSelect?a("multiselect",{attrs:{options:t.opsDepartement,"allow-empty":!1,"show-labels":!1,placeholder:"Pilih Departement",label:"Department","track-by":"Department"},on:{select:t.getPositionSelect},model:{value:t.field.Department,callback:function(e){t.$set(t.field,"Department",e)},expression:"field.Department"}}):t._e(),t._v(" "),0==t.isSelect?a("b-input",{staticClass:"mb-1",attrs:{name:"DepartmentName",state:!t.allErrors.DepartmentName&&null},model:{value:t.field.DepartmentName,callback:function(e){t.$set(t.field,"DepartmentName",e)},expression:"field.DepartmentName"}}):t._e(),t._v(" "),t.allErrors.Departement?a("span",{staticClass:"text-danger"},[t._v(t._s(t.allErrors.Departement[0]))]):t._e()],1),t._v(" "),a("b-form-group",{staticClass:"col-md-4"},[a("label",{staticClass:"form-label"},[t._v("Position")]),t._v(" "),a("label",{staticClass:"form-label float-right text-danger"},[t._v("*Wajib Diisi")]),t._v(" "),1==t.isSelect?a("multiselect",{attrs:{options:t.opsPosition,"show-labels":!1,placeholder:t.placeholdertext,label:"Name","track-by":"Name"},on:{select:t.getPositionId},model:{value:t.field.Position,callback:function(e){t.$set(t.field,"Position",e)},expression:"field.Position"}}):t._e(),t._v(" "),0==t.isSelect?a("b-input",{staticClass:"mb-1",attrs:{name:"PositionName",state:!t.allErrors.PositionName&&null},model:{value:t.field.PositionName,callback:function(e){t.$set(t.field,"PositionName",e)},expression:"field.PositionName"}}):t._e(),t._v(" "),t.allErrors.Position?a("span",{staticClass:"text-danger"},[t._v(t._s(t.allErrors.Position[0]))]):t._e()],1),t._v(" "),a("b-form-group",{staticClass:"col-md-4"},[a("label",{staticClass:"form-label"},[t._v("Email")]),t._v(" "),a("label",{staticClass:"form-label float-right text-danger"},[t._v("*Wajib Diisi")]),t._v(" "),a("b-input",{staticClass:"mb-1",attrs:{name:"Email",state:!t.allErrors.Email&&null,required:""},model:{value:t.field.Email,callback:function(e){t.$set(t.field,"Email",e)},expression:"field.Email"}}),t._v(" "),t.allErrors.Email?a("span",{staticClass:"text-danger"},[t._v(t._s(t.allErrors.Email[0]))]):t._e()],1)],1),t._v(" "),a("b-form-row",[a("b-form-group",{staticClass:"col-md-6"},[a("label",{staticClass:"form-label"},[t._v("Type")]),t._v(" "),a("label",{staticClass:"form-label float-right text-danger"},[t._v("*Wajib Diisi")]),t._v(" "),a("multiselect",{attrs:{options:t.opsType,"allow-empty":!1,"preselect-first":!0,"show-labels":!1,placeholder:"Pilih Type",label:"text","track-by":"text"},model:{value:t.field.Type,callback:function(e){t.$set(t.field,"Type",e)},expression:"field.Type"}}),t._v(" "),t.allErrors.Type?a("span",{staticClass:"text-danger"},[t._v(t._s(t.allErrors.Type[0]))]):t._e()],1),t._v(" "),a("b-form-group",{staticClass:"col-md-6"},[a("label",{staticClass:"form-label"},[t._v("Status")]),t._v(" "),a("label",{staticClass:"form-label float-right text-danger"},[t._v("*Wajib Diisi")]),t._v(" "),a("multiselect",{attrs:{options:t.opsStatus,"allow-empty":!1,"preselect-first":!0,"show-labels":!1,placeholder:"Pilih Status",label:"text","track-by":"text"},model:{value:t.field.Status,callback:function(e){t.$set(t.field,"Status",e)},expression:"field.Status"}}),t._v(" "),t.allErrors.Status?a("span",{staticClass:"text-danger"},[t._v(t._s(t.allErrors.Status[0]))]):t._e()],1)],1),t._v(" "),a("b-form-row",[a("b-form-group",{staticClass:"col-md-6"}),t._v(" "),a("b-form-group",{staticClass:"col-md-6",attrs:{label:""}},[a("b-btn",{staticClass:"float-right ml-2",attrs:{type:"submit",variant:"primary"}},[t._v(t._s(t.textBtnSubmit))]),t._v(" "),a("b-btn",{staticClass:"float-right",attrs:{type:"button",variant:"secondary"},on:{click:function(e){return t.backIndex()}}},[t._v("Back")])],1)],1)],1)])],1)}),[],!1,null,null,null).exports}}]);