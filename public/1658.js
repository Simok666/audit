(self.webpackChunkaudit_widatra=self.webpackChunkaudit_widatra||[]).push([[1658],{91658:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return o}});var a=i(30381),r=i.n(a),s=i(44612),l={name:"form-auditor-team",metaInfo:{title:"Form Auditor Team"},components:{MaskedInput:i.n(s)()},data:function(){return{urlSubmit:"/AdminVue/auditor-team-insert",headerCard:"Form / Create Data Auditor Team",textBtnSubmit:"Create",field:{File:"",AuditClause:[{IdStandartAudit:"",StandartAudit:"",ClauseAudit:"",opsClauseAudit:[]}],AuditeeDepartment:"",Purpose:"",Auditee:"",Auditor:"",LeadAuditor:"",Observer:""},allErrors:[],opsIdAudit:[],opsAuditeeDepartment:[],opsAuditee:[],opsAuditor:[],opsLeadAuditor:[],opsObserver:[],clauseSelect:[],auditeeSelect:[],standartAuditSelect:[],opsEmployee:[],departmentAuditorSelect:[],departmentObserverSelect:[],oldFileAttachment:[],formatDate:"dd/MM/yyyy",disabledDate:{},timeMask:[/\d/,/\d/,":",/\d/,/\d/],isNotif:!1,isFormEdit:!1,alertNotif:"",alertVariant:"alert-dark-danger"}},methods:{submitForm:function(){var e=new FormData;e.append("Id",this.field.Id),e.append("IdAuditPlane",this.field.IdAuditPlan.Id),e.append("NoTrans",this.field.IdAuditPlan.NoTrans),e.append("Approved",JSON.stringify(this.field.Approved)),e.append("IdDepartmentAuditee",this.field.AuditeeDepartment.IdDepartmentAuditee),e.append("IdPositionAuditee",this.field.AuditeeDepartment.IdPositionAuditee),e.append("AuditDate",r()(this.field.AuditDate).format("MM/DD/YYYY")),e.append("HourStart",this.field.HourStart),e.append("HourDone",this.field.HourDone),e.append("AuditClause",JSON.stringify(this.field.AuditClause)),e.append("Auditee",JSON.stringify(this.field.Auditee)),e.append("IdAuditorDepartment",JSON.stringify(this.departmentAuditorSelect)),e.append("Auditor",JSON.stringify(this.field.Auditor)),e.append("LeadAuditor",this.field.LeadAuditor.Id),e.append("Observer",JSON.stringify(this.field.Observer)),e.append("IdDepartmentObserver",JSON.stringify(this.departmentObserverSelect)),e.append("Email",this.field.AuditeeDepartment.Email);for(var t=0;t<this.field.File.length;t++){var i=this.field.File[t];e.append("FileAttachment["+t+"]",i)}e.append("OldFileAttachment",JSON.stringify(this.oldFileAttachment));axios.post(this.urlSubmit,e,{headers:{"content-type":"multipart/form-data"}}).then(function(e){var t=e.data;t.status?this.$router.push({name:"audit/data-auditor-team",params:{isNotif:!0,gNotif:"notifications-success",tNotif:this.textBtnSubmit+" Data Success",txNotif:"Save Data Success!"}}):(this.isNotif=!0,this.alertNotif=t.message,this.alertVariant="alert-dark-danger",this.allErrors=t.validation)}.bind(this)).catch(function(e){console.log(e),this.isNotif=!0,this.alertNotif="Invalid Server Side!",this.alertVariant="alert-dark-danger"}.bind(this))},getData:function(e){axios.post("/AdminVue/auditor-team-edit",{Id:e}).then(function(e){var t=e.data;if(this.field=t.data,this.field.File=[],""!=this.field.Path)for(var i=this.field.Path.length,a=0;a<i;a++)this.oldFileAttachment.push(this.field.Path[a]),this.field.File.push("/"+this.field.Path[a]);else this.oldFileAttachment="";this.departmentAuditorSelect=this.field.IdAuditorDepartment,this.departmentObserverSelect=this.field.IdDepartmentObserver,this.clauseSelect=this.field.ClauseSelect,this.standartAuditSelect=this.field.StandartAuditSelect,this.auditeeSelect=this.field.AuditeeSelect;var s=r()(this.field.OpeningMeeting).format("YYYY"),l=r()(this.field.OpeningMeeting).format("MM")-1,o=r()(this.field.OpeningMeeting).format("DD");this.disabledDate={to:new Date(s,l,o)},this.getAuditeeDepartment(this.field.IdAuditPlane,!0),this.getAuditee(this.field.IdDepartmentAuditee,!0),this.getAuditorDepartment(this.field.AuditeeDepartment.IdDepartmentAuditee,this.auditeeSelect,!0),this.getObserverDepartment(this.field.AuditeeDepartment.IdDepartmentAuditee,this.departmentAuditorSelect,this.auditeeSelect,!0)}.bind(this)).catch(function(e){console.log(e),this.isNotif=!0,this.alertNotif="Invalid Server Side!",this.alertVariant="alert-dark-danger"}.bind(this))},backIndex:function(){this.$router.push("/RoleAdmin/audit/data-auditor-team")},getSelect:function(){axios.post("/AdminVue/auditor-team-getSelect").then(function(e){this.opsIdAudit=e.data.IdAudit,this.opsEmployee=e.data.employee}.bind(this)).catch(function(e){console.log(e),this.opsIdAudit=[],this.opsEmployee=[]}.bind(this))},getAuditeeDepartment:function(e,t){axios.post("/AdminVue/auditor-team-getAuditeeDepartment",{IdAuditPlan:e,IdDepartmentAuditee:this.field.IdDepartmentAuditee,Status:t}).then(function(e){this.opsAuditeeDepartment=e.data.AuditeeDepartment,0==t&&(this.field.AuditeeDepartment="",this.field.Auditee="",this.field.LeadAuditor="",this.field.Auditor="",this.field.Observer="",this.opsAuditee=[],this.opsAuditor=[],this.opsLeadAuditor=[],this.opsObserver=[],this.field.AuditClause=e.data.AuditClause,this.standartAuditSelect=e.data.StandartAudit)}.bind(this)).catch(function(e){console.log(e),this.opsAuditeeDepartment=[]}.bind(this))},getAuditorDepartment:function(e,t,i){axios.post("/AdminVue/auditor-team-getAuditorDepartment",{IdAuditeeDepartment:e,StandartAudit:this.standartAuditSelect,AuditeeSelect:t}).then(function(e){this.opsAuditor=e.data.Auditor,this.opsLeadAuditor=e.data.Auditor,0==i&&(this.field.LeadAuditor="",this.field.Auditor="",this.field.Observer="")}.bind(this)).catch(function(e){console.log(e),this.opsAuditor=[],this.opsLeadAuditor=[]}.bind(this))},getAuditee:function(e,t){axios.post("/AdminVue/auditor-team-getAuditee",{IdAuditeeDepartment:e,StandartAudit:this.standartAuditSelect}).then(function(e){this.opsAuditee=e.data.Auditee,0==t&&(this.field.Auditee="",this.field.LeadAuditor="",this.field.Auditor="",this.field.Observer="",this.opsObserver=[])}.bind(this)).catch(function(e){console.log(e),this.opsAuditee=[]}.bind(this))},getObserverDepartment:function(e,t,i,a){axios.post("/AdminVue/auditor-team-getObserver",{IdAuditeeDepartment:e,AuditorDepartment:t,AuditeeSelect:i}).then(function(e){this.opsObserver=e.data.Observer,0==a&&(this.field.Observer="")}.bind(this)).catch(function(e){console.log(e),this.opsObserver=[]}.bind(this))},getAuditDetail:function(e){this.field.Purpose=e.Purpose;var t=r()(e.OpeningMeeting).format("YYYY"),i=r()(e.OpeningMeeting).format("MM")-1,a=r()(e.OpeningMeeting).format("DD");this.disabledDate={to:new Date(t,i,a)},this.getAuditeeDepartment(e.Id,!1)},getDepartmentAuditeeDetail:function(e){this.getAuditee(e.IdDepartmentAuditee,!1)},getClauseDetail:function(e){},removeClauseDetail:function(e){},getAuditeeDetail:function(e){this.auditeeSelect.push(e.Id),this.getAuditorDepartment(this.field.AuditeeDepartment.IdDepartmentAuditee,this.auditeeSelect,!1),this.getObserverDepartment(this.field.AuditeeDepartment.IdDepartmentAuditee,this.departmentAuditorSelect,this.auditeeSelect,!1)},removeAuditeeDetail:function(e){var t=this.auditeeSelect.indexOf(e.Id);this.auditeeSelect.splice(t,1),this.getAuditorDepartment(this.field.AuditeeDepartment.IdDepartmentAuditee,this.auditeeSelect,!1),this.getObserverDepartment(this.field.AuditeeDepartment.IdDepartmentAuditee,this.departmentAuditorSelect,this.auditeeSelect,!1)},getAuditorDetail:function(e){this.departmentAuditorSelect.push(e.IdDepartment),this.getObserverDepartment(this.field.AuditeeDepartment.IdDepartmentAuditee,this.departmentAuditorSelect,this.auditeeSelect,!1)},removeAuditorDetail:function(e){var t=this.departmentAuditorSelect.indexOf(e.IdDepartment);this.departmentAuditorSelect.splice(t,1),this.getObserverDepartment(this.field.AuditeeDepartment.IdDepartmentAuditee,this.departmentAuditorSelect,this.auditeeSelect,!1)},getObserverDetail:function(e){this.departmentObserverSelect.push(e.IdDepartment)},removeObserverDetail:function(e){console.log("Remove Observer");var t=this.departmentObserverSelect.indexOf(e.IdDepartment);this.departmentObserverSelect.splice(t,1)},handleFile:function(e){this.field.File=e.map((function(e){return e.file}))},handleRemove:function(e,t){if(1==this.isFormEdit){var i=this.oldFileAttachment.indexOf(t.source.replace("/clouds","clouds"));this.oldFileAttachment.splice(i,1)}}},mounted:function(){if(this.$route.params.isFormEdit){var e=this.$route.params.Id;e&&(this.getData(e),this.field.Id=e,this.isFormEdit=!0,this.urlSubmit="/AdminVue/auditor-team-update",this.headerCard="Form / Edit Data Auditor Team",this.textBtnSubmit="Update")}this.getSelect()}},o=(0,i(51900).Z)(l,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("b-card",{staticClass:"mb-4",attrs:{header:e.headerCard,"header-tag":"h4"}},[e.isNotif?i("div",{staticClass:"alert alert-dismissible fade show",class:[e.alertVariant]},[i("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"alert"},on:{click:function(t){e.isNotif=!e.isNotif}}},[e._v("Ã—")]),e._v("\n      "+e._s(e.alertNotif)+"\n    ")]):e._e(),e._v(" "),i("form",{attrs:{method:"POST"},on:{submit:function(t){return t.preventDefault(),e.submitForm()}}},[i("b-form-row",[i("b-form-group",{staticClass:"col-md-4"},[i("label",{staticClass:"form-label"},[e._v("ID Audit Plan")]),e._v(" "),i("label",{staticClass:"form-label float-right text-danger"},[e._v("*Wajib Diisi")]),e._v(" "),i("multiselect",{attrs:{options:e.opsIdAudit,"allow-empty":!1,"show-labels":!1,placeholder:"Pilih ID Audit Plan",label:"NoTrans","track-by":"NoTrans"},on:{select:e.getAuditDetail},model:{value:e.field.IdAuditPlan,callback:function(t){e.$set(e.field,"IdAuditPlan",t)},expression:"field.IdAuditPlan"}}),e._v(" "),e.allErrors.Organizer?i("span",{staticClass:"text-danger"},[e._v(e._s(e.allErrors.Organizer[0]))]):e._e()],1),e._v(" "),i("b-form-group",{staticClass:"col-md-4"},[i("label",{staticClass:"form-label"},[e._v("Approval")]),e._v(" "),i("label",{staticClass:"form-label float-right text-danger"},[e._v("*Wajib Diisi")]),e._v(" "),i("multiselect",{attrs:{options:e.opsEmployee,"allow-empty":!1,"show-labels":!1,multiple:!0,placeholder:"Pilih Approval Employee",label:"Name","track-by":"Name"},model:{value:e.field.Approved,callback:function(t){e.$set(e.field,"Approved",t)},expression:"field.Approved"}}),e._v(" "),e.allErrors.Approved?i("span",{staticClass:"text-danger"},[e._v(e._s(e.allErrors.Approved[0]))]):e._e()],1),e._v(" "),i("b-form-group",{staticClass:"col-md-4"},[i("label",{staticClass:"form-label"},[e._v("Purpose")]),e._v(" "),i("label",{staticClass:"form-label float-right text-danger"},[e._v("*Wajib Diisi")]),e._v(" "),i("b-form-textarea",{attrs:{name:"Purpose",rows:"3","no-resize":"",readonly:""},model:{value:e.field.Purpose,callback:function(t){e.$set(e.field,"Purpose",t)},expression:"field.Purpose"}})],1)],1),e._v(" "),i("b-form-row",[i("b-form-group",{staticClass:"col-md-4"},[i("label",{staticClass:"form-label"},[e._v("Audit Date")]),e._v(" "),i("label",{staticClass:"form-label float-right text-danger"},[e._v("*Wajib Diisi")]),e._v(" "),i("datepicker",{staticClass:"mb-1",attrs:{format:e.formatDate,state:!e.allErrors.AuditDate&&null,bootstrapStyling:!0,"disabled-dates":e.disabledDate,required:""},model:{value:e.field.AuditDate,callback:function(t){e.$set(e.field,"AuditDate",t)},expression:"field.AuditDate"}})],1),e._v(" "),i("b-form-group",{staticClass:"col-md-4"},[i("label",{staticClass:"form-label"},[e._v("Hour Start")]),e._v(" "),i("label",{staticClass:"form-label float-right text-danger"},[e._v("*Wajib Diisi")]),e._v(" "),i("masked-input",{staticClass:"form-control mb-1",attrs:{type:"text",state:!e.allErrors.HourStart&&null,mask:e.timeMask},model:{value:e.field.HourStart,callback:function(t){e.$set(e.field,"HourStart",t)},expression:"field.HourStart"}}),e._v(" "),e.allErrors.HourStart?i("span",{staticClass:"text-danger"},[e._v(e._s(e.allErrors.HourStart[0]))]):e._e()],1),e._v(" "),i("b-form-group",{staticClass:"col-md-4"},[i("label",{staticClass:"form-label"},[e._v("Hour End")]),e._v(" "),i("label",{staticClass:"form-label float-right text-danger"},[e._v("*Wajib Diisi")]),e._v(" "),i("masked-input",{staticClass:"form-control mb-1",attrs:{type:"text",state:!e.allErrors.HourDone&&null,mask:e.timeMask},model:{value:e.field.HourDone,callback:function(t){e.$set(e.field,"HourDone",t)},expression:"field.HourDone"}}),e._v(" "),e.allErrors.HourDone?i("span",{staticClass:"text-danger"},[e._v(e._s(e.allErrors.HourDone[0]))]):e._e()],1)],1),e._v(" "),i("b-form-row",[i("b-form-group",{staticClass:"col-md-6"},[i("label",{staticClass:"form-label"},[e._v("Auditee Departement")]),e._v(" "),i("label",{staticClass:"form-label float-right text-danger"},[e._v("*Wajib Diisi")]),e._v(" "),i("multiselect",{attrs:{options:e.opsAuditeeDepartment,"allow-empty":!1,"show-labels":!1,placeholder:"Pilih Auditee Departement",label:"Department","track-by":"Department"},on:{select:e.getDepartmentAuditeeDetail},model:{value:e.field.AuditeeDepartment,callback:function(t){e.$set(e.field,"AuditeeDepartment",t)},expression:"field.AuditeeDepartment"}}),e._v(" "),e.allErrors.AuditeeDepartment?i("span",{staticClass:"text-danger"},[e._v(e._s(e.allErrors.AuditeeDepartment[0]))]):e._e()],1),e._v(" "),i("b-form-group",{staticClass:"col-md-6"},[i("label",{staticClass:"form-label"},[e._v("Auditee")]),e._v(" "),i("label",{staticClass:"form-label float-right text-danger"},[e._v("*Wajib Diisi")]),e._v(" "),i("multiselect",{attrs:{options:e.opsAuditee,"allow-empty":!1,"show-labels":!1,multiple:!0,placeholder:"Pilih Auditee",label:"Employee","track-by":"Employee"},on:{select:e.getAuditeeDetail,remove:e.removeAuditeeDetail},model:{value:e.field.Auditee,callback:function(t){e.$set(e.field,"Auditee",t)},expression:"field.Auditee"}}),e._v(" "),e.allErrors.Auditee?i("span",{staticClass:"text-danger"},[e._v(e._s(e.allErrors.Auditee[0]))]):e._e()],1)],1),e._v(" "),i("b-card",{staticClass:"mb-4",scopedSlots:e._u([{key:"header",fn:function(){return[i("h4",[e._v("Standart Audit")])]},proxy:!0}])},[e._v(" "),e._l(e.field.AuditClause,(function(t,a){return i("b-form-row",{key:a},[i("b-form-group",{staticClass:"col-md-6"},[0==a?i("label",[e._v("Standart ")]):e._e(),e._v(" "),i("b-input",{staticClass:"mb-1",attrs:{name:"StandartAudit",state:!e.allErrors.StandartAudit&&null,readonly:""},model:{value:t.StandartAudit,callback:function(i){e.$set(t,"StandartAudit",i)},expression:"item.StandartAudit"}}),e._v(" "),e.allErrors.StandartAudit?i("span",{staticClass:"text-danger"},[e._v(e._s(e.allErrors.StandartAudit[0]))]):e._e()],1),e._v(" "),i("b-form-group",{staticClass:"col-md-6"},[0==a?i("label",[e._v("Clause")]):e._e(),e._v(" "),i("label",{staticClass:"form-label float-right text-danger"},[e._v("*Wajib Diisi")]),e._v(" "),i("multiselect",{attrs:{options:t.opsClauseAudit,"allow-empty":!1,"show-labels":!1,multiple:!0,placeholder:"Pilih Clause",label:"Clause","track-by":"Clause"},on:{select:e.getClauseDetail,remove:e.removeClauseDetail},model:{value:t.ClauseAudit,callback:function(i){e.$set(t,"ClauseAudit",i)},expression:"item.ClauseAudit"}}),e._v(" "),e.allErrors.Organizer?i("span",{staticClass:"text-danger"},[e._v(e._s(e.allErrors.Organizer[0]))]):e._e()],1)],1)}))],2),e._v(" "),i("b-form-row",[i("b-form-group",{staticClass:"col-md-4"},[i("label",{staticClass:"form-label"},[e._v("Lead Auditor")]),e._v(" "),i("label",{staticClass:"form-label float-right text-danger"},[e._v("*Wajib Diisi")]),e._v(" "),i("multiselect",{attrs:{options:e.opsLeadAuditor,"allow-empty":!0,"show-labels":!1,placeholder:"Pilih Lead Auditor",label:"Employee","track-by":"Employee"},on:{select:e.getAuditorDetail,remove:e.removeAuditorDetail},model:{value:e.field.LeadAuditor,callback:function(t){e.$set(e.field,"LeadAuditor",t)},expression:"field.LeadAuditor"}}),e._v(" "),e.allErrors.LeadAuditor?i("span",{staticClass:"text-danger"},[e._v(e._s(e.allErrors.LeadAuditor[0]))]):e._e()],1),e._v(" "),i("b-form-group",{staticClass:"col-md-4"},[i("label",{staticClass:"form-label"},[e._v("Auditor")]),e._v(" "),i("label",{staticClass:"form-label float-right text-danger"},[e._v("*Wajib Diisi")]),e._v(" "),i("multiselect",{attrs:{options:e.opsAuditor,"allow-empty":!1,"show-labels":!1,multiple:!0,placeholder:"Pilih Auditor",label:"Employee","track-by":"Employee"},on:{select:e.getAuditorDetail,remove:e.removeAuditorDetail},model:{value:e.field.Auditor,callback:function(t){e.$set(e.field,"Auditor",t)},expression:"field.Auditor"}}),e._v(" "),e.allErrors.Auditor?i("span",{staticClass:"text-danger"},[e._v(e._s(e.allErrors.Auditor[0]))]):e._e()],1),e._v(" "),i("b-form-group",{staticClass:"col-md-4"},[i("label",{staticClass:"form-label"},[e._v("Observer")]),e._v(" "),i("label",{staticClass:"form-label float-right text-danger"},[e._v("*Wajib Diisi")]),e._v(" "),i("multiselect",{attrs:{options:e.opsObserver,"allow-empty":!0,"show-labels":!1,multiple:!0,placeholder:"Pilih Observer",label:"Employee","track-by":"Employee"},on:{select:e.getObserverDetail,remove:e.removeObserverDetail},model:{value:e.field.Observer,callback:function(t){e.$set(e.field,"Observer",t)},expression:"field.Observer"}}),e._v(" "),e.allErrors.Observer?i("span",{staticClass:"text-danger"},[e._v(e._s(e.allErrors.Observer[0]))]):e._e()],1)],1),e._v(" "),i("b-form-row",[i("b-form-group",{staticClass:"col-md-12"},[i("label",[e._v("Attachment")]),e._v(" "),i("file-pond",{ref:"pondMyFile",attrs:{name:"File","label-idle":"Klik Untuk Menambahkan Attachment","allow-multiple":!0,files:e.field.File,required:""},on:{updatefiles:e.handleFile,removefile:e.handleRemove}})],1)],1),e._v(" "),i("b-form-row",[i("b-form-group",{staticClass:"col-md-6"}),e._v(" "),i("b-form-group",{staticClass:"col-md-6",attrs:{label:""}},[i("b-btn",{staticClass:"float-right ml-2",attrs:{type:"submit",variant:"primary"}},[e._v(e._s(e.textBtnSubmit))]),e._v(" "),i("b-btn",{staticClass:"float-right",attrs:{type:"button",variant:"secondary"},on:{click:function(t){return e.backIndex()}}},[e._v("Back")])],1)],1)],1)])],1)}),[],!1,null,null,null).exports},44612:function(e){e.exports=function(e){function t(a){if(i[a])return i[a].exports;var r=i[a]={exports:{},id:a,loaded:!1};return e[a].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var i={};return t.m=e,t.c=i,t.p="",t(0)}([function(e,t,i){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.conformToMask=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e},s=i(2);Object.defineProperty(t,"conformToMask",{enumerable:!0,get:function(){return a(s).default}});var l=a(i(5));t.default={render:function(e){var t=this;return e("input",{ref:"input",domProps:{value:this.value},attrs:this.$attrs,on:Object.assign(r({},this.$listeners),{input:function(e){return t.updateValue(e.target.value)}})})},name:"masked-input",inheritAttrs:!1,props:{value:{type:String,required:!1,default:""},mask:{type:[Array,Function,Boolean,Object],required:!0},guide:{type:Boolean,required:!1},placeholderChar:{type:String,required:!1},keepCharPositions:{type:Boolean,required:!1},pipe:{type:Function,required:!1},showMask:{type:Boolean,required:!1}},mounted:function(){this.initMask()},methods:{createTextMaskInputElement:l.default,setTextMaskInputElement:function(){this.textMaskInputElement=this.createTextMaskInputElement(r({inputElement:this.$refs.input},this.$options.propsData))},initMask:function(){this.setTextMaskInputElement(),this.textMaskInputElement.update(this.value)},bind:function(){this.setTextMaskInputElement(),this.updateValue(this.value)},updateValue:function(e){this.textMaskInputElement.update(e),this.$emit("input",this.$refs.input.value)}},watch:{mask:function(e,t){this.mask!==t&&this.bind()},guide:function(){this.bind()},placeholderChar:function(){this.bind()},keepCharPositions:function(){this.bind()},pipe:function(){this.bind()},showMask:function(){this.bind()}}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.placeholderChar="_",t.strFunction="function"},function(e,t,i){"use strict";function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!(0,s.isArray)(t)){if((void 0===t?"undefined":r(t))!==l.strFunction)throw new Error("Text-mask:conformToMask; The mask property must be an array.");t=t(e,i),t=(0,s.processCaretTraps)(t).maskWithoutCaretTraps}var a=i.guide,d=void 0===a||a,u=i.previousConformedValue,c=void 0===u?n:u,p=i.placeholderChar,f=void 0===p?l.placeholderChar:p,h=i.placeholder,m=void 0===h?(0,s.convertMaskToPlaceholder)(t,f):h,v=i.currentCaretPosition,b=i.keepCharPositions,A=!1===d&&void 0!==c,g=e.length,_=c.length,D=m.length,C=t.length,y=g-_,S=y>0,k=v+(S?-y:0),O=k+Math.abs(y);if(!0===b&&!S){for(var x=n,I=k;I<O;I++)m[I]===f&&(x+=f);e=e.slice(0,k)+x+e.slice(k,g)}for(var P=e.split(n).map((function(e,t){return{char:e,isNew:t>=k&&t<O}})),E=g-1;E>=0;E--){var w=P[E].char;w!==f&&w===m[E>=k&&_===C?E-y:E]&&P.splice(E,1)}var M=n,N=!1;e:for(var T=0;T<D;T++){var F=m[T];if(F===f){if(P.length>0)for(;P.length>0;){var V=P.shift(),j=V.char,$=V.isNew;if(j===f&&!0!==A){M+=f;continue e}if(t[T].test(j)){if(!0===b&&!1!==$&&c!==n&&!1!==d&&S){for(var L=P.length,H=null,W=0;W<L;W++){var Y=P[W];if(Y.char!==f&&!1===Y.isNew)break;if(Y.char===f){H=W;break}}null!==H?(M+=j,P.splice(H,1)):T--}else M+=j;continue e}N=!0}!1===A&&(M+=m.substr(T,D));break}M+=F}if(A&&!1===S){for(var q=null,J=0;J<M.length;J++)m[J]===f&&(q=J);M=null!==q?M.substr(0,q+1):n}return{conformedValue:M,meta:{someCharsRejected:N}}}Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=a;var s=i(3),l=i(1),o=[],n=""},function(e,t,i){"use strict";function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d.placeholderChar;if(!r(e))throw new Error("Text-mask:convertMaskToPlaceholder; The mask property must be an array.");if(-1!==e.indexOf(t))throw new Error("Placeholder character must not be used as part of the mask. Please specify a character that is not present in your mask as your placeholder character.\n\nThe placeholder character that was received is: "+JSON.stringify(t)+"\n\nThe mask that was received is: "+JSON.stringify(e));return e.map((function(e){return e instanceof RegExp?t:e})).join("")}function r(e){return Array.isArray&&Array.isArray(e)||e instanceof Array}function s(e){return"string"==typeof e||e instanceof String}function l(e){return"number"==typeof e&&void 0===e.length&&!isNaN(e)}function o(e){return null==e}function n(e){for(var t=[],i=void 0;-1!==(i=e.indexOf(c));)t.push(i),e.splice(i,1);return{maskWithoutCaretTraps:e,indexes:t}}Object.defineProperty(t,"__esModule",{value:!0}),t.convertMaskToPlaceholder=a,t.isArray=r,t.isString=s,t.isNumber=l,t.isNil=o,t.processCaretTraps=n;var d=i(1),u=[],c="[]"},function(e,t){"use strict";function i(e){var t=e.previousConformedValue,i=void 0===t?r:t,s=e.previousPlaceholder,l=void 0===s?r:s,o=e.currentCaretPosition,n=void 0===o?0:o,d=e.conformedValue,u=e.rawValue,c=e.placeholderChar,p=e.placeholder,f=e.indexesOfPipedChars,h=void 0===f?a:f,m=e.caretTrapIndexes,v=void 0===m?a:m;if(0===n||!u.length)return 0;var b=u.length,A=i.length,g=p.length,_=d.length,D=b-A,C=D>0;if(D>1&&!C&&0!==A)return n;var y=0,S=void 0,k=void 0;if(!C||i!==d&&d!==p){var O=d.toLowerCase(),x=u.toLowerCase().substr(0,n).split(r).filter((function(e){return-1!==O.indexOf(e)}));k=x[x.length-1];var I=l.substr(0,x.length).split(r).filter((function(e){return e!==c})).length,P=p.substr(0,x.length).split(r).filter((function(e){return e!==c})).length,E=P!==I,w=void 0!==l[x.length-1]&&void 0!==p[x.length-2]&&l[x.length-1]!==c&&l[x.length-1]!==p[x.length-1]&&l[x.length-1]===p[x.length-2];!C&&(E||w)&&I>0&&p.indexOf(k)>-1&&void 0!==u[n]&&(S=!0,k=u[n]);for(var M=h.map((function(e){return O[e]})),N=M.filter((function(e){return e===k})).length,T=x.filter((function(e){return e===k})).length,F=p.substr(0,p.indexOf(c)).split(r).filter((function(e,t){return e===k&&u[t]!==e})).length,V=F+T+N+(S?1:0),j=0,$=0;$<_&&(y=$+1,O[$]===k&&j++,!(j>=V));$++);}else y=n-D;if(C){for(var L=y,H=y;H<=g;H++)if(p[H]===c&&(L=H),p[H]===c||-1!==v.indexOf(H)||H===g)return L}else if(S){for(var W=y-1;W>=0;W--)if(d[W]===k||-1!==v.indexOf(W)||0===W)return W}else for(var Y=y;Y>=0;Y--)if(p[Y-1]===c||-1!==v.indexOf(Y)||0===Y)return Y}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var a=[],r=""},function(e,t,i){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){var t={previousConformedValue:void 0,previousPlaceholder:void 0};return{state:t,update:function(i){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,r=a.inputElement,h=a.mask,v=a.guide,b=a.pipe,A=a.placeholderChar,g=void 0===A?p.placeholderChar:A,_=a.keepCharPositions,D=void 0!==_&&_,C=a.showMask,y=void 0!==C&&C;if(void 0===i&&(i=r.value),i!==t.previousConformedValue){(void 0===h?"undefined":n(h))===m&&void 0!==h.pipe&&void 0!==h.mask&&(b=h.pipe,h=h.mask);var S=void 0,k=void 0;if(h instanceof Array&&(S=(0,c.convertMaskToPlaceholder)(h,g)),!1!==h){var O=l(i),x=r.selectionEnd,I=t.previousConformedValue,P=t.previousPlaceholder,E=void 0;if((void 0===h?"undefined":n(h))===p.strFunction){if(!1===(k=h(O,{currentCaretPosition:x,previousConformedValue:I,placeholderChar:g})))return;var w=(0,c.processCaretTraps)(k);k=w.maskWithoutCaretTraps,E=w.indexes,S=(0,c.convertMaskToPlaceholder)(k,g)}else k=h;var M={previousConformedValue:I,guide:v,placeholderChar:g,pipe:b,placeholder:S,currentCaretPosition:x,keepCharPositions:D},N=(0,u.default)(O,k,M).conformedValue,T=(void 0===b?"undefined":n(b))===p.strFunction,F={};T&&(!1===(F=b(N,o({rawValue:O},M)))?F={value:I,rejected:!0}:(0,c.isString)(F)&&(F={value:F}));var V=T?F.value:N,j=(0,d.default)({previousConformedValue:I,previousPlaceholder:P,conformedValue:V,placeholder:S,rawValue:O,currentCaretPosition:x,placeholderChar:g,indexesOfPipedChars:F.indexesOfPipedChars,caretTrapIndexes:E}),$=V===S&&0===j?y?S:f:V;t.previousConformedValue=$,t.previousPlaceholder=S,r.value!==$&&(r.value=$,s(r,j))}}}}}function s(e,t){document.activeElement===e&&(v?b((function(){return e.setSelectionRange(t,t,h)}),0):e.setSelectionRange(t,t,h))}function l(e){if((0,c.isString)(e))return e;if((0,c.isNumber)(e))return String(e);if(null==e)return f;throw new Error("The 'value' provided to Text Mask needs to be a string or a number. The value received was:\n\n "+JSON.stringify(e))}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e},n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=r;var d=a(i(4)),u=a(i(2)),c=i(3),p=i(1),f="",h="none",m="object",v="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),b="undefined"!=typeof requestAnimationFrame?requestAnimationFrame:setTimeout}])}}]);