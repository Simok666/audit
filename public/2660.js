"use strict";(self.webpackChunkaudit_widatra=self.webpackChunkaudit_widatra||[]).push([[2660],{52660:function(t,e,a){a.r(e),a.d(e,{default:function(){return r}});var s={name:"form-user-employee",metaInfo:{title:"Form User Karyawan"},components:{},data:function(){return{urlSubmit:"/AdminVue/user-employee-insert",headerCard:"Form / Create Data User Karyawan",textBtnSubmit:"Create",field:{},allErrors:[],isNotif:!1,isFormCreate:!0,alertNotif:"",alertVariant:"alert-dark-danger",opsDepartment:[],opsCity:[],opsTypeUser:[]}},methods:{submitForm:function(){var t=new FormData;t.append("Id",this.field.Id),this.field.IdDepartment&&t.append("IdDepartment",this.field.IdDepartment.IdDepartment),this.field.IdDepartment&&t.append("IdPosition",this.field.IdDepartment.IdPosition),t.append("Name",this.field.Name),t.append("NIP",this.field.NIP),t.append("Email",this.field.Email),this.field.TypeUser&&t.append("TypeUser",this.field.TypeUser.Id),t.append("UserName",this.field.UserName),this.field.Password&&t.append("Password",this.field.Password);axios.post(this.urlSubmit,t,{headers:{"content-type":"multipart/form-data"}}).then(function(t){var e=t.data;e.status?this.$router.push({name:"master/data-user-employee",params:{isNotif:!0,gNotif:"notifications-success",tNotif:this.textBtnSubmit+" Data Success",txNotif:"Save Data Success!"}}):(this.isNotif=!0,this.alertNotif=e.message,this.alertVariant="alert-dark-danger",this.allErrors=e.validation,this.scrollTop(0,1e3))}.bind(this)).catch(function(t){console.log(t),this.isNotif=!0,this.alertNotif="Invalid Server Side!",this.alertVariant="alert-dark-danger"}.bind(this))},getData:function(t){axios.post("/AdminVue/user-employee-edit",{Id:t}).then(function(t){var e=t.data;this.field=e.data}.bind(this)).catch(function(t){console.log(t),this.isNotif=!0,this.alertNotif="Invalid Server Side!",this.alertVariant="alert-dark-danger"}.bind(this))},getDepartment:function(){axios.post("/AdminVue/user-get-department").then(function(t){this.opsDepartment=t.data.data}.bind(this)).catch(function(t){console.log(t),this.opsDepartment=[]}.bind(this))},getCity:function(){axios.post("/AdminVue/user-get-city").then(function(t){this.opsCity=t.data.data}.bind(this)).catch(function(t){console.log(t),this.opsCity=[]}.bind(this))},getTypeUser:function(){axios.post("/AdminVue/user-get-type-user").then(function(t){this.opsTypeUser=t.data.data}.bind(this)).catch(function(t){console.log(t),this.opsTypeUser=[]}.bind(this))},labelDepartment:function(t){var e=t.Position,a=t.Department;return"".concat(e," — ").concat(a)},backIndex:function(){this.$router.push("/RoleAdmin/master/data-user-employee")}},mounted:function(){if(this.getDepartment(),this.getTypeUser(),this.$route.params.isFormEdit){this.isFormCreate=!1;var t=this.$route.params.Id;t&&(this.getData(t),this.field.Id=t,this.urlSubmit="/AdminVue/user-employee-update",this.headerCard="Form / Edit Data User Karyawan",this.textBtnSubmit="Update")}}},r=(0,a(51900).Z)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-card",{staticClass:"mb-4",attrs:{header:t.headerCard,"header-tag":"h4"}},[t.isNotif?a("div",{staticClass:"alert alert-dismissible fade show",class:[t.alertVariant]},[a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"alert"},on:{click:function(e){t.isNotif=!t.isNotif}}},[t._v("×")]),t._v("\n      "+t._s(t.alertNotif)+"\n    ")]):t._e(),t._v(" "),a("form",{attrs:{method:"POST"},on:{submit:function(e){return e.preventDefault(),t.submitForm()}}},[a("b-form-row",[a("b-form-group",{staticClass:"col-md-6"},[a("label",{staticClass:"form-label"},[t._v("Position — Department")]),t._v(" "),a("label",{staticClass:"form-label float-right text-danger"},[t._v("*Wajib Diisi")]),t._v(" "),a("multiselect",{attrs:{options:t.opsDepartment,"allow-empty":!1,"show-labels":!1,placeholder:"Pilih Department",label:"Department","custom-label":t.labelDepartment,"track-by":"Department"},model:{value:t.field.IdDepartment,callback:function(e){t.$set(t.field,"IdDepartment",e)},expression:"field.IdDepartment"}}),t._v(" "),t.allErrors.IdDepartment?a("span",{staticClass:"text-danger"},[t._v(t._s(t.allErrors.IdDepartment[0]))]):t._e()],1),t._v(" "),a("b-form-group",{staticClass:"col-md-6"},[a("label",{staticClass:"form-label"},[t._v("Nama Karyawan")]),t._v(" "),a("label",{staticClass:"form-label float-right text-danger"},[t._v("*Wajib Diisi")]),t._v(" "),a("b-input",{staticClass:"mb-1",attrs:{name:"Name",state:!t.allErrors.Name&&null,required:""},model:{value:t.field.Name,callback:function(e){t.$set(t.field,"Name",e)},expression:"field.Name"}}),t._v(" "),t.allErrors.Name?a("span",{staticClass:"text-danger"},[t._v(t._s(t.allErrors.Name[0]))]):t._e()],1)],1),t._v(" "),a("b-form-row",[a("b-form-group",{staticClass:"col-md-4"},[a("label",{staticClass:"form-label"},[t._v("NIP")]),t._v(" "),a("b-input",{staticClass:"mb-1",attrs:{name:"NIP",state:!t.allErrors.NIP&&null,type:"number"},model:{value:t.field.NIP,callback:function(e){t.$set(t.field,"NIP",e)},expression:"field.NIP"}}),t._v(" "),t.allErrors.NIP?a("span",{staticClass:"text-danger"},[t._v(t._s(t.allErrors.NIP[0]))]):t._e()],1),t._v(" "),a("b-form-group",{staticClass:"col-md-4"},[a("label",{staticClass:"form-label"},[t._v("Email")]),t._v(" "),a("b-input",{staticClass:"mb-1",attrs:{name:"Email",state:!t.allErrors.Email&&null},model:{value:t.field.Email,callback:function(e){t.$set(t.field,"Email",e)},expression:"field.Email"}}),t._v(" "),t.allErrors.Email?a("span",{staticClass:"text-danger"},[t._v(t._s(t.allErrors.Email[0]))]):t._e()],1),t._v(" "),a("b-form-group",{staticClass:"col-md-4"},[a("label",{staticClass:"form-label"},[t._v("Hak Akses User")]),t._v(" "),a("label",{staticClass:"form-label float-right text-danger"},[t._v("*Wajib Diisi")]),t._v(" "),a("multiselect",{attrs:{options:t.opsTypeUser,"allow-empty":!1,"show-labels":!1,placeholder:"Pilih Type User",label:"TypeUser","track-by":"TypeUser"},model:{value:t.field.TypeUser,callback:function(e){t.$set(t.field,"TypeUser",e)},expression:"field.TypeUser"}}),t._v(" "),t.allErrors.TypeUser?a("span",{staticClass:"text-danger"},[t._v(t._s(t.allErrors.TypeUser[0]))]):t._e()],1)],1),t._v(" "),a("b-form-row"),t._v(" "),a("b-form-row"),t._v(" "),a("b-form-row",[a("b-form-group",{staticClass:"col-md-6"},[a("label",{staticClass:"form-label"},[t._v("User Name")]),t._v(" "),a("label",{staticClass:"form-label float-right text-danger"},[t._v("*Wajib Diisi")]),t._v(" "),a("b-input",{staticClass:"mb-1",attrs:{name:"UserName",state:!t.allErrors.UserName&&null,required:""},model:{value:t.field.UserName,callback:function(e){t.$set(t.field,"UserName",e)},expression:"field.UserName"}}),t._v(" "),t.allErrors.UserName?a("span",{staticClass:"text-danger"},[t._v(t._s(t.allErrors.UserName[0]))]):t._e()],1),t._v(" "),a("b-form-group",{staticClass:"col-md-6"},[a("label",{staticClass:"form-label"},[t._v("Password")]),t._v(" "),a("label",{staticClass:"form-label float-right text-danger"},[t._v("*Wajib Diisi")]),t._v(" "),a("b-input",{staticClass:"mb-1",attrs:{name:"Password",state:!t.allErrors.Password&&null,type:"password",required:t.isFormCreate},model:{value:t.field.Password,callback:function(e){t.$set(t.field,"Password",e)},expression:"field.Password"}}),t._v(" "),t.allErrors.Password?a("span",{staticClass:"text-danger"},[t._v(t._s(t.allErrors.Password[0]))]):t._e()],1)],1),t._v(" "),a("b-form-row"),t._v(" "),a("b-form-row",[a("b-form-group",{staticClass:"col-md-6"}),t._v(" "),a("b-form-group",{staticClass:"col-md-6",attrs:{label:""}},[a("b-btn",{staticClass:"float-right ml-2",attrs:{type:"submit",variant:"primary"}},[t._v(t._s(t.textBtnSubmit))]),t._v(" "),a("b-btn",{staticClass:"float-right",attrs:{type:"button",variant:"secondary"},on:{click:function(e){return t.backIndex()}}},[t._v("Back")])],1)],1)],1)])],1)}),[],!1,null,null,null).exports}}]);