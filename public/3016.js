(self.webpackChunkaudit_widatra=self.webpackChunkaudit_widatra||[]).push([[3016],{45301:function(e,t,i){"use strict";var a=i(23645),r=i.n(a)()((function(e){return e[1]}));r.push([e.id,"input:disabled{background-color:red}input.disable-input{background-color:gray}",""]),t.Z=r},84909:function(e){e.exports=function(e){function t(a){if(i[a])return i[a].exports;var r=i[a]={exports:{},id:a,loaded:!1};return e[a].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var i={};return t.m=e,t.c=i,t.p="",t(0)}([function(e,t,i){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(1);Object.defineProperty(t,"createAutoCorrectedDatePipe",{enumerable:!0,get:function(){return a(r).default}});var n=i(2);Object.defineProperty(t,"createNumberMask",{enumerable:!0,get:function(){return a(n).default}});var o=i(3);Object.defineProperty(t,"emailMask",{enumerable:!0,get:function(){return a(o).default}})},function(e,t){"use strict";function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"mm dd yyyy",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.minYear,n=void 0===i?1:i,o=t.maxYear,l=void 0===o?9999:o,s=e.split(/[^dmyHMS]+/).sort((function(e,t){return r.indexOf(e)-r.indexOf(t)}));return function(t){var i=[],r={dd:31,mm:12,yy:99,yyyy:l,HH:23,MM:59,SS:59},o={dd:1,mm:1,yy:0,yyyy:n,HH:0,MM:0,SS:0},d=t.split("");s.forEach((function(t){var a=e.indexOf(t),n=parseInt(r[t].toString().substr(0,1),10);parseInt(d[a],10)>n&&(d[a+1]=d[a],d[a]=0,i.push(a))}));var u=0,c=s.some((function(i){var s=e.indexOf(i),d=i.length,c=t.substr(s,d).replace(/\D/g,""),f=parseInt(c,10);"mm"===i&&(u=f||0);var p="dd"===i?a[u]:r[i];if("yyyy"===i&&(1!==n||9999!==l)){var m=parseInt(r[i].toString().substring(0,c.length),10);return f<parseInt(o[i].toString().substring(0,c.length),10)||f>m}return f>p||c.length===d&&f<o[i]}));return!c&&{value:d.join(""),indexesOfPipedChars:i}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var a=[31,31,29,31,30,31,30,31,31,30,31,30,31],r=["yyyy","yy","mm","dd","HH","MM","SS"]},function(e,t){"use strict";function i(){function e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=e.length;if(e===l||e[0]===v[0]&&1===t)return v.split(l).concat([m]).concat(g.split(l));if(e===S&&D)return v.split(l).concat(["0",S,m]).concat(g.split(l));var i=e[0]===u&&I;i&&(e=e.toString().substr(1));var o=e.lastIndexOf(S),s=-1!==o,d=void 0,b=void 0,y=void 0;if(e.slice(-1*V)===g&&(e=e.slice(0,-1*V)),s&&(D||O)?(d=e.slice(e.slice(0,$)===v?$:0,o),b=a((b=e.slice(o+1,t)).replace(f,l))):d=e.slice(0,$)===v?e.slice($):e,j&&(void 0===j?"undefined":n(j))===p){var C="."===A?"[.]":""+A,x=(d.match(new RegExp(C,"g"))||[]).length;d=d.slice(0,j+x*Y)}return d=d.replace(f,l),F||(d=d.replace(/^0+(0$|[^0])/,"$1")),y=a(d=_?r(d,A):d),(s&&D||!0===O)&&(e[o-1]!==S&&y.push(h),y.push(S,h),b&&((void 0===P?"undefined":n(P))===p&&(b=b.slice(0,P)),y=y.concat(b)),!0===O&&e[o-1]===S&&y.push(m)),$>0&&(y=v.split(l).concat(y)),i&&(y.length===$&&y.push(m),y=[c].concat(y)),g.length>0&&(y=y.concat(g.split(l))),y}var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.prefix,v=void 0===i?o:i,b=t.suffix,g=void 0===b?l:b,y=t.includeThousandsSeparator,_=void 0===y||y,C=t.thousandsSeparatorSymbol,A=void 0===C?s:C,x=t.allowDecimal,D=void 0!==x&&x,k=t.decimalSymbol,S=void 0===k?d:k,E=t.decimalLimit,P=void 0===E?2:E,M=t.requireDecimal,O=void 0!==M&&M,w=t.allowNegative,I=void 0!==w&&w,T=t.allowLeadingZeroes,F=void 0!==T&&T,N=t.integerLimit,j=void 0===N?null:N,$=v&&v.length||0,V=g&&g.length||0,Y=A&&A.length||0;return e.instanceOf="createNumberMask",e}function a(e){return e.split(l).map((function(e){return m.test(e)?m:e}))}function r(e,t){return e.replace(/\B(?=(\d{3})+(?!\d))/g,t)}Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=i;var o="$",l="",s=",",d=".",u="-",c=/-/,f=/\D+/g,p="number",m=/\d/,h="[]"},function(e,t,i){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){e=e.replace(_,p);var i=t.placeholderChar,a=t.currentCaretPosition,r=e.indexOf(m),u=e.lastIndexOf(f),c=u<r?-1:u,h=n(e,r+1,m),v=n(e,c-1,f),b=o(e,r,i),g=l(e,r,c,i),y=s(e,c,i,a);return b=d(b),g=d(g),y=d(y,!0),b.concat(h).concat(g).concat(v).concat(y)}function n(e,t,i){var a=[];return e[t]===i?a.push(i):a.push(h,i),a.push(h),a}function o(e,t){return-1===t?e:e.slice(0,t)}function l(e,t,i,a){var r=p;return-1!==t&&(r=-1===i?e.slice(t+1,e.length):e.slice(t+1,i)),(r=r.replace(new RegExp("[\\s"+a+"]",b),p))===m?c:r.length<1?v:r[r.length-1]===f?r.slice(0,r.length-1):r}function s(e,t,i,a){var r=p;return-1!==t&&(r=e.slice(t+1,e.length)),0===(r=r.replace(new RegExp("[\\s"+i+".]",b),p)).length?e[t-1]===f&&a!==e.length?c:p:r}function d(e,t){return e.split(p).map((function(e){return e===v?e:t?y:g}))}Object.defineProperty(t,"__esModule",{value:!0});var u=a(i(4)),c="*",f=".",p="",m="@",h="[]",v=" ",b="g",g=/[^\s]/,y=/[^.\s]/,_=/\s/g;t.default={mask:r,pipe:u.default}},function(e,t){"use strict";function i(e,t){var i=t.currentCaretPosition,n=t.rawValue,f=t.previousConformedValue,p=t.placeholderChar,m=e,h=(m=a(m)).indexOf(l);if(null===n.match(new RegExp("[^@\\s."+p+"]")))return o;if(-1!==m.indexOf(d)||-1!==h&&i!==h+1||-1===n.indexOf(r)&&f!==o&&-1!==n.indexOf(s))return!1;var v=m.indexOf(r);return(m.slice(v+1,m.length).match(c)||u).length>1&&m.substr(-1)===s&&i!==n.length&&(m=m.slice(0,m.length-1)),m}function a(e){var t=0;return e.replace(n,(function(){return 1==++t?r:o}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var r="@",n=/@/g,o="",l="@.",s=".",d="..",u=[],c=/\./g}])},73016:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return f}});var a=i(30381),r=i.n(a),n=i(44612),o=i.n(n),l=(i(84909),{name:"form-audit-plan",metaInfo:{title:"Form Audit Plan"},components:{MaskedInput:o()},data:function(){return{urlSubmit:"/AdminVue/audit-plan-insert",headerCard:"Form / Create Data Audit Plan",textBtnSubmit:"Create",field:{File:"",AuditeeDepartment:[{Department:"",Position:"",Email:"",opsPosition:[]}],IdAudit:"",Date:"",Organizer:"",AuditPeriode:"",AuditCriteria:"",Approved:""},allErrors:[],formatDate:"MM/yyyy",formatDatedmy:"dd/MM/yyyy",formatDateTime:"dd/MM/yyyy H:i",disabledDate:{to:new Date(2021,4,5)},opsAuditCriteria:[],timeMask:[/\d/,/\d/,":",/\d/,/\d/],opsOrganizer:[],opsDepartment:[],DepSelected:[],DisabledDep:[],oldFileAttachment:[],opsEmployee:[],isNotif:!1,isFormEdit:!1,alertNotif:"",alertVariant:"alert-dark-danger"}},methods:{submitForm:function(){var e=new FormData;e.append("Id",this.field.Id),e.append("OrganizerAudit",this.field.Organizer.Id),e.append("AuditPeriode",r()(this.field.AuditPeriode).format("MM/DD/YYYY")),e.append("NoTrans",this.field.IdAudit),e.append("Approved",JSON.stringify(this.field.Approved)),e.append("Purpose",this.field.Purpose),e.append("AuditScope",this.field.AuditScope),e.append("OpeningMeeting",r()(this.field.OpeningMeeting).format("MM/DD/YYYY")),e.append("AuditExecutionStart",r()(this.field.AuditExecutionStart).format("MM/DD/YYYY")),e.append("AuditExecutionDone",r()(this.field.AuditExecutionDone).format("MM/DD/YYYY")),e.append("ClosingMeeting",r()(this.field.ClosingMeeting).format("MM/DD/YYYY")),e.append("OpeningMeetingTime",this.field.OpeningMeetingTime),e.append("CloseMeetingTime",this.field.CloseMeetingTime),e.append("AuditCriteria",JSON.stringify(this.field.AuditCriteria)),e.append("Objective",this.field.Objective),e.append("AuditeeDepartment",JSON.stringify(this.field.AuditeeDepartment));for(var t=0;t<this.field.File.length;t++){var i=this.field.File[t];e.append("FileAttachment["+t+"]",i)}e.append("OldFileAttachment",JSON.stringify(this.oldFileAttachment));axios.post(this.urlSubmit,e,{headers:{"content-type":"multipart/form-data"}}).then(function(e){var t=e.data;t.status?this.$router.push({name:"audit/data-audit-plan",params:{isNotif:!0,gNotif:"notifications-success",tNotif:this.textBtnSubmit+" Data Success",txNotif:"Save Data Success!"}}):(this.isNotif=!0,this.alertNotif=t.message,this.alertVariant="alert-dark-danger",this.allErrors=t.validation)}.bind(this)).catch(function(e){console.log(e),this.isNotif=!0,this.alertNotif="Invalid Server Side!",this.alertVariant="alert-dark-danger"}.bind(this))},getData:function(e){axios.post("/AdminVue/audit-plan-edit",{Id:e}).then(function(e){var t=e.data;if(this.field=t.data,this.DepSelected=t.data.DepSelect,this.DisabledDep=t.data.DepDisabled,this.field.File=[],""!=this.field.Path)for(var i=this.field.Path.length,a=0;a<i;a++)this.oldFileAttachment.push(this.field.Path[a]),this.field.File.push("/"+this.field.Path[a]);else this.oldFileAttachment="";this.getCriteriaAudit(this.field.IdOrganizer,!0);for(var r=0;r<this.field.AuditeeDepartment.length;r++)this.getPosition(this.field.AuditeeDepartment[r].Department.Id,!0,r)}.bind(this)).catch(function(e){console.log(e),this.isNotif=!0,this.alertNotif="Invalid Server Side!",this.alertVariant="alert-dark-danger"}.bind(this))},backIndex:function(){this.$router.push("/RoleAdmin/audit/data-audit-plan")},handleFile:function(e){this.field.File=e.map((function(e){return e.file}))},getSelect:function(e){axios.post("/AdminVue/audit-plan-getSelect",{IdEmploye:e}).then(function(e){var t=this;if(this.opsOrganizer=e.data.organizer,this.opsDepartment=e.data.departement,this.field.TotalAuditPlant=e.data.countAuditPlan+1,this.opsEmployee=e.data.employee,this.field.Id)for(var i=function(e){var i=t.opsDepartment.findIndex((function(i){return i.Id===t.DepSelected[e]}));t.opsDepartment[i].$isDisabled=!0},a=0;a<this.DepSelected.length;a++)i(a)}.bind(this)).catch(function(e){console.log(e),this.opsOrganizer=[],this.opsDepartment=[],this.field.TotalAuditPlant=0,this.opsEmployee=[]}.bind(this))},getPosition:function(e,t,i){axios.post("/AdminVue/audit-plan-getPosition",{IdDepartment:e}).then(function(e){this.field.AuditeeDepartment[i].opsPosition=e.data.position,0==t&&(this.field.AuditeeDepartment[i].Position="",this.field.AuditeeDepartment[i].Email="")}.bind(this)).catch(function(e){console.log(e),this.opsPosition=[]}.bind(this))},getCriteriaAudit:function(e,t){axios.post("/AdminVue/audit-plan-getCriteria",{IdOrganizer:e}).then(function(e){this.opsAuditCriteria=e.data.criteria,0==t&&(this.field.AuditCriteria="")}.bind(this)).catch(function(e){console.log(e),this.opsAuditCriteria=[]}.bind(this))},getIdAudit:function(e){if(""!=this.field.AuditPeriode){var t=("00"+this.field.TotalAuditPlant).substring(this.field.TotalAuditPlant.length),i=r()(this.field.AuditPeriode).format("YYYY");this.field.IdAudit=i+"/"+e.Name+"/"+t}this.getCriteriaAudit(e.Id,!1)},dateSelected:function(){var e=this;this.$nextTick((function(){return e.getIdAuditDate(e.field.AuditPeriode)}))},priviewFile:function(){if(""!=this.oldFileAttachment)for(var e=0;e<this.oldFileAttachment.length;e++){var t="/"+this.oldFileAttachment[e];window.open(t,"_blank")}},getIdAuditDate:function(e){if(""!=this.field.Organizer){var t=("00"+this.field.TotalAuditPlant).substring(this.field.TotalAuditPlant.length),i=r()(e).format("YYYY");this.field.IdAudit=i+"/"+this.field.Organizer.Name+"/"+t}},getPositionSelect:function(e,t){this.DepSelected.splice(t,1),this.DepSelected.splice(t,0,e.Id),this.disabledSelected(e.Id,t,!1),this.getPosition(e.Id,!1,t)},getEmailEvent:function(e,t){var i=this.field.AuditeeDepartment[t].Email;this.field.AuditeeDepartment[t].Email=""!=i?i.concat(", ",e.Email):e.Email},removeEmailEvent:function(e,t){this.field.AuditeeDepartment[t].Email=this.field.AuditeeDepartment[t].Email.replace(", "+e.Email,"")},addDepartmentAuditee:function(){this.field.AuditeeDepartment.push({Department:"",Position:"",Email:"",opsPosition:[]})},removeDepartmentAuditee:function(e){this.field.AuditeeDepartment.splice(e,1),this.disabledSelected(this.DepSelected[e],e,!0)},handleRemove:function(e,t){if(1==this.isFormEdit){var i=this.oldFileAttachment.indexOf(t.source.replace("/clouds","clouds"));this.oldFileAttachment.splice(i,1)}},disabledSelected:function(e,t,i){var a=this.opsDepartment.findIndex((function(t){return t.Id===e})),r=this.DisabledDep[t];if(void 0===r)this.opsDepartment[a].$isDisabled=!0,this.DisabledDep.push(e);else{this.opsDepartment[a].$isDisabled=!0;var n=this.opsDepartment.findIndex((function(e){return e.Id===r}));this.opsDepartment[n].$isDisabled=!1,this.DisabledDep.splice(t,1),this.DisabledDep.splice(t,0,e),i&&this.DepSelected.splice(t,1)}}},mounted:function(){if(this.$route.params.isFormEdit){var e=this.$route.params.Id;e&&(this.getData(e),this.field.Id=e,this.isFormEdit=!0,this.urlSubmit="/AdminVue/audit-plan-update",this.headerCard="Form / Edit Data Audit Plan",this.textBtnSubmit="Update")}this.getSelect()}}),s=i(93379),d=i.n(s),u=i(45301),c={insert:"head",singleton:!1},f=(d()(u.Z,c),u.Z.locals,(0,i(51900).Z)(l,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("b-card",{staticClass:"mb-4",attrs:{header:e.headerCard,"header-tag":"h4"}},[e.isNotif?i("div",{staticClass:"alert alert-dismissible fade show",class:[e.alertVariant]},[i("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"alert"},on:{click:function(t){e.isNotif=!e.isNotif}}},[e._v("Ã—")]),e._v("\n      "+e._s(e.alertNotif)+"\n    ")]):e._e(),e._v(" "),i("form",{attrs:{method:"POST"},on:{submit:function(t){return t.preventDefault(),e.submitForm()}}},[i("b-form-row",[i("b-form-group",{staticClass:"col-md-4"},[i("label",{staticClass:"form-label"},[e._v("Organizer Audit")]),e._v(" "),i("label",{staticClass:"form-label float-right text-danger"},[e._v("*Wajib Diisi")]),e._v(" "),i("multiselect",{attrs:{options:e.opsOrganizer,"allow-empty":!1,"show-labels":!1,placeholder:"Pilih Organizer",label:"Name","track-by":"Name"},on:{select:e.getIdAudit},model:{value:e.field.Organizer,callback:function(t){e.$set(e.field,"Organizer",t)},expression:"field.Organizer"}}),e._v(" "),e.allErrors.Organizer?i("span",{staticClass:"text-danger"},[e._v(e._s(e.allErrors.Organizer[0]))]):e._e()],1),e._v(" "),i("b-form-group",{staticClass:"col-md-4"},[i("label",{staticClass:"form-label"},[e._v("Audit Periode")]),e._v(" "),i("label",{staticClass:"form-label float-right text-danger"},[e._v("*Wajib Diisi")]),e._v(" "),i("datepicker",{staticClass:"mb-1",attrs:{format:e.formatDate,state:!e.allErrors.AuditPeriode&&null,bootstrapStyling:!0,"minimum-view":"month",required:""},on:{selected:function(t){return e.dateSelected()}},model:{value:e.field.AuditPeriode,callback:function(t){e.$set(e.field,"AuditPeriode",t)},expression:"field.AuditPeriode"}})],1),e._v(" "),i("b-form-group",{staticClass:"col-md-4"},[i("label",{staticClass:"form-label"},[e._v("ID Audit")]),e._v(" "),i("b-input",{staticClass:"mb-1",attrs:{name:"IdAudit",state:!e.allErrors.IdAudit&&null,readonly:""},model:{value:e.field.IdAudit,callback:function(t){e.$set(e.field,"IdAudit",t)},expression:"field.IdAudit"}}),e._v(" "),e.allErrors.IdAudit?i("span",{staticClass:"text-danger"},[e._v(e._s(e.allErrors.IdAudit[0]))]):e._e()],1)],1),e._v(" "),i("b-form-row",[i("b-form-group",{staticClass:"col-md-3"},[i("label",{staticClass:"form-label"},[e._v("Opening Meeting")]),e._v(" "),i("b-form-row",[i("b-form-group",{staticClass:"col-md-8"},[i("datepicker",{staticClass:"mb-1",attrs:{format:e.formatDatedmy,state:!e.allErrors.OpeningMeeting&&null,bootstrapStyling:!0,required:""},model:{value:e.field.OpeningMeeting,callback:function(t){e.$set(e.field,"OpeningMeeting",t)},expression:"field.OpeningMeeting"}}),e._v(" "),e.allErrors.DateOpen?i("span",{staticClass:"text-danger"},[e._v(e._s(e.allErrors.DateOpen[0]))]):e._e()],1),e._v(" "),i("b-form-group",{staticClass:"col-md-4"},[i("masked-input",{staticClass:"form-control mb-1",attrs:{type:"text",placeholder:"00:00",state:!e.allErrors.OpeningMeetingTime&&null,mask:e.timeMask},model:{value:e.field.OpeningMeetingTime,callback:function(t){e.$set(e.field,"OpeningMeetingTime",t)},expression:"field.OpeningMeetingTime"}}),e._v(" "),e.allErrors.OpeningMeetingTime?i("span",{staticClass:"text-danger"},[e._v(e._s(e.allErrors.OpeningMeetingTime[0]))]):e._e()],1)],1)],1),e._v(" "),i("b-form-group",{staticClass:"col-md-3"},[i("label",{staticClass:"form-label"},[e._v("Audit Execution")]),e._v(" "),i("label",{staticClass:"form-label float-right text-danger"},[e._v("*Wajib Diisi")]),e._v(" "),i("datepicker",{staticClass:"mb-1",attrs:{format:e.formatDatedmy,state:!e.allErrors.AuditExecutionStart&&null,bootstrapStyling:!0,required:""},model:{value:e.field.AuditExecutionStart,callback:function(t){e.$set(e.field,"AuditExecutionStart",t)},expression:"field.AuditExecutionStart"}}),e._v(" "),e.allErrors.AuditExecutionStart?i("span",{staticClass:"text-danger"},[e._v(e._s(e.allErrors.AuditExecutionStart[0]))]):e._e()],1),e._v(" "),i("b-form-group",{staticClass:"col-md-3"},[i("label",{staticClass:"form-label"},[e._v("Audit Execution(Done)")]),e._v(" "),i("label",{staticClass:"form-label float-right text-danger"},[e._v("*Wajib Diisi")]),e._v(" "),i("datepicker",{staticClass:"mb-1",attrs:{format:e.formatDatedmy,state:!e.allErrors.AuditExecutionDone&&null,bootstrapStyling:!0,required:""},model:{value:e.field.AuditExecutionDone,callback:function(t){e.$set(e.field,"AuditExecutionDone",t)},expression:"field.AuditExecutionDone"}}),e._v(" "),e.allErrors.AuditExecutionDone?i("span",{staticClass:"text-danger"},[e._v(e._s(e.allErrors.AuditExecutionDone[0]))]):e._e()],1),e._v(" "),i("b-form-group",{staticClass:"col-md-3"},[i("label",{staticClass:"form-label"},[e._v("Close Meeting")]),e._v(" "),i("b-form-row",[i("b-form-group",{staticClass:"col-md-8"},[i("datepicker",{staticClass:"mb-1",attrs:{format:e.formatDatedmy,state:!e.allErrors.ClosingMeeting&&null,bootstrapStyling:!0,required:""},model:{value:e.field.ClosingMeeting,callback:function(t){e.$set(e.field,"ClosingMeeting",t)},expression:"field.ClosingMeeting"}}),e._v(" "),e.allErrors.DateClose?i("span",{staticClass:"text-danger"},[e._v(e._s(e.allErrors.DateClose[0]))]):e._e()],1),e._v(" "),i("b-form-group",{staticClass:"col-md-4"},[i("masked-input",{staticClass:"form-control mb-1",attrs:{type:"text",placeholder:"00:00",state:!e.allErrors.CloseMeetingTime&&null,mask:e.timeMask},model:{value:e.field.CloseMeetingTime,callback:function(t){e.$set(e.field,"CloseMeetingTime",t)},expression:"field.CloseMeetingTime"}}),e._v(" "),e.allErrors.CloseMeetingTime?i("span",{staticClass:"text-danger"},[e._v(e._s(e.allErrors.CloseMeetingTime[0]))]):e._e()],1)],1)],1)],1),e._v(" "),i("b-form-row",[i("b-form-group",{staticClass:"col-md-4"},[i("label",{staticClass:"form-label"},[e._v("Approval")]),e._v(" "),i("label",{staticClass:"form-label float-right text-danger"},[e._v("*Wajib Diisi")]),e._v(" "),i("multiselect",{attrs:{options:e.opsEmployee,"allow-empty":!1,"show-labels":!1,multiple:!0,placeholder:"Pilih Approval Employee",label:"Name","track-by":"Name"},model:{value:e.field.Approved,callback:function(t){e.$set(e.field,"Approved",t)},expression:"field.Approved"}}),e._v(" "),e.allErrors.Approved?i("span",{staticClass:"text-danger"},[e._v(e._s(e.allErrors.Approved[0]))]):e._e()],1),e._v(" "),i("b-form-group",{staticClass:"col-md-4"},[i("label",{staticClass:"form-label"},[e._v("Standart Audit")]),e._v(" "),i("label",{staticClass:"form-label float-right text-danger"},[e._v("*Wajib Diisi")]),e._v(" "),i("multiselect",{attrs:{options:e.opsAuditCriteria,"allow-empty":!1,multiple:!0,"show-labels":!1,placeholder:"Pilih Standart Audit",label:"Standart","track-by":"Standart"},model:{value:e.field.AuditCriteria,callback:function(t){e.$set(e.field,"AuditCriteria",t)},expression:"field.AuditCriteria"}}),e._v(" "),e.allErrors.AuditCriteria?i("span",{staticClass:"text-danger"},[e._v(e._s(e.allErrors.AuditCriteria[0]))]):e._e()],1),e._v(" "),i("b-form-group",{staticClass:"col-md-4"},[i("label",{staticClass:"form-label"},[e._v("Audit Scope")]),e._v(" "),i("label",{staticClass:"form-label float-right text-danger"},[e._v("*Wajib Diisi")]),e._v(" "),i("b-form-textarea",{attrs:{name:"AuditScope",rows:"3","no-resize":""},model:{value:e.field.AuditScope,callback:function(t){e.$set(e.field,"AuditScope",t)},expression:"field.AuditScope"}})],1)],1),e._v(" "),i("b-form-row",[i("b-form-group",{staticClass:"col-md-6"},[i("label",{staticClass:"form-label"},[e._v("Purpose")]),e._v(" "),i("label",{staticClass:"form-label float-right text-danger"},[e._v("*Wajib Diisi")]),e._v(" "),i("b-form-textarea",{attrs:{name:"Purpose",rows:"3","no-resize":""},model:{value:e.field.Purpose,callback:function(t){e.$set(e.field,"Purpose",t)},expression:"field.Purpose"}})],1),e._v(" "),i("b-form-group",{staticClass:"col-md-6"},[i("label",{staticClass:"form-label"},[e._v("Objective")]),e._v(" "),i("label",{staticClass:"form-label float-right text-danger"},[e._v("*Wajib Diisi")]),e._v(" "),i("b-form-textarea",{attrs:{name:"Objective",rows:"3","no-resize":""},model:{value:e.field.Objective,callback:function(t){e.$set(e.field,"Objective",t)},expression:"field.Objective"}})],1)],1),e._v(" "),i("b-card",{staticClass:"mb-4",scopedSlots:e._u([{key:"header",fn:function(){return[i("h4",[e._v("Department Auditee")])]},proxy:!0}])},[e._v(" "),e._l(e.field.AuditeeDepartment,(function(t,a){return i("b-form-row",{key:a},[i("b-form-group",{staticClass:"col-md-4"},[0==a?i("label",[e._v("Area Auditee")]):e._e(),e._v(" "),i("multiselect",{attrs:{options:e.opsDepartment,"allow-empty":!1,"show-labels":!1,placeholder:"Pilih Department Auditee",label:"Department","track-by":"Department"},on:{select:function(t){return e.getPositionSelect(t,a)}},model:{value:t.Department,callback:function(i){e.$set(t,"Department",i)},expression:"item.Department"}})],1),e._v(" "),i("b-form-group",{staticClass:"col-md-4"},[0==a?i("label",[e._v("Key Area Auditee")]):e._e(),e._v(" "),i("multiselect",{attrs:{options:t.opsPosition,"allow-empty":!1,"show-labels":!1,multiple:!0,placeholder:"Pilih Position Auditee",label:"Name","track-by":"Name"},on:{select:function(t){return e.getEmailEvent(t,a)},remove:function(t){return e.removeEmailEvent(t,a)}},model:{value:t.Position,callback:function(i){e.$set(t,"Position",i)},expression:"item.Position"}})],1),e._v(" "),i("b-form-group",{staticClass:"col-md-3 col-10"},[0==a?i("label",[e._v("Emails")]):e._e(),e._v(" "),i("b-form-textarea",{attrs:{name:"Email",rows:"3","background-color":"btn-danger","no-resize":""},model:{value:t.Email,callback:function(i){e.$set(t,"Email",i)},expression:"item.Email"}})],1),e._v(" "),i("b-form-group",{staticClass:"col-md-1 col-2 text-center"},[0==a?i("label",[e._v("Action")]):e._e(),e._v(" "),a>0?i("b-button",{staticClass:"btn btn-sm btn-icon btn-danger text-white",attrs:{pill:!0},on:{click:function(t){return e.removeDepartmentAuditee(a)}}},[i("i",{staticClass:"ion ion-md-trash"})]):e._e()],1)],1)})),e._v(" "),i("b-btn",{staticClass:"float-left btn-info",attrs:{type:"button"},on:{click:function(t){return e.addDepartmentAuditee()}}},[i("i",{staticClass:"fas fa-plus"}),e._v(" Tambah")])],2),e._v(" "),i("b-form-row",[i("b-form-group",{staticClass:"col-md-12"},[i("label",[e._v("Attachment")]),e._v(" "),i("file-pond",{ref:"pondMyFile",attrs:{name:"File","label-idle":"Klik Untuk Menambahkan Attachment","allow-multiple":!0,files:e.field.File,required:""},on:{updatefiles:e.handleFile,removefile:e.handleRemove}}),e._v(" "),"Update"==e.textBtnSubmit?i("b-btn",{staticClass:"float-right",attrs:{type:"button",variant:"secondary"},on:{click:function(t){return e.priviewFile()}}},[e._v("Preview File")]):e._e()],1)],1),e._v(" "),i("b-form-row",[i("b-form-group",{staticClass:"col-md-6"}),e._v(" "),i("b-form-group",{staticClass:"col-md-6",attrs:{label:""}},[i("b-btn",{staticClass:"float-right ml-2",attrs:{type:"submit",variant:"primary"}},[e._v(e._s(e.textBtnSubmit))]),e._v(" "),i("b-btn",{staticClass:"float-right",attrs:{type:"button",variant:"secondary"},on:{click:function(t){return e.backIndex()}}},[e._v("Back")])],1)],1)],1)])],1)}),[],!1,null,null,null).exports)},44612:function(e){e.exports=function(e){function t(a){if(i[a])return i[a].exports;var r=i[a]={exports:{},id:a,loaded:!1};return e[a].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var i={};return t.m=e,t.c=i,t.p="",t(0)}([function(e,t,i){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.conformToMask=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e},n=i(2);Object.defineProperty(t,"conformToMask",{enumerable:!0,get:function(){return a(n).default}});var o=a(i(5));t.default={render:function(e){var t=this;return e("input",{ref:"input",domProps:{value:this.value},attrs:this.$attrs,on:Object.assign(r({},this.$listeners),{input:function(e){return t.updateValue(e.target.value)}})})},name:"masked-input",inheritAttrs:!1,props:{value:{type:String,required:!1,default:""},mask:{type:[Array,Function,Boolean,Object],required:!0},guide:{type:Boolean,required:!1},placeholderChar:{type:String,required:!1},keepCharPositions:{type:Boolean,required:!1},pipe:{type:Function,required:!1},showMask:{type:Boolean,required:!1}},mounted:function(){this.initMask()},methods:{createTextMaskInputElement:o.default,setTextMaskInputElement:function(){this.textMaskInputElement=this.createTextMaskInputElement(r({inputElement:this.$refs.input},this.$options.propsData))},initMask:function(){this.setTextMaskInputElement(),this.textMaskInputElement.update(this.value)},bind:function(){this.setTextMaskInputElement(),this.updateValue(this.value)},updateValue:function(e){this.textMaskInputElement.update(e),this.$emit("input",this.$refs.input.value)}},watch:{mask:function(e,t){this.mask!==t&&this.bind()},guide:function(){this.bind()},placeholderChar:function(){this.bind()},keepCharPositions:function(){this.bind()},pipe:function(){this.bind()},showMask:function(){this.bind()}}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.placeholderChar="_",t.strFunction="function"},function(e,t,i){"use strict";function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!(0,n.isArray)(t)){if((void 0===t?"undefined":r(t))!==o.strFunction)throw new Error("Text-mask:conformToMask; The mask property must be an array.");t=t(e,i),t=(0,n.processCaretTraps)(t).maskWithoutCaretTraps}var a=i.guide,d=void 0===a||a,u=i.previousConformedValue,c=void 0===u?s:u,f=i.placeholderChar,p=void 0===f?o.placeholderChar:f,m=i.placeholder,h=void 0===m?(0,n.convertMaskToPlaceholder)(t,p):m,v=i.currentCaretPosition,b=i.keepCharPositions,g=!1===d&&void 0!==c,y=e.length,_=c.length,C=h.length,A=t.length,x=y-_,D=x>0,k=v+(D?-x:0),S=k+Math.abs(x);if(!0===b&&!D){for(var E=s,P=k;P<S;P++)h[P]===p&&(E+=p);e=e.slice(0,k)+E+e.slice(k,y)}for(var M=e.split(s).map((function(e,t){return{char:e,isNew:t>=k&&t<S}})),O=y-1;O>=0;O--){var w=M[O].char;w!==p&&w===h[O>=k&&_===A?O-x:O]&&M.splice(O,1)}var I=s,T=!1;e:for(var F=0;F<C;F++){var N=h[F];if(N===p){if(M.length>0)for(;M.length>0;){var j=M.shift(),$=j.char,V=j.isNew;if($===p&&!0!==g){I+=p;continue e}if(t[F].test($)){if(!0===b&&!1!==V&&c!==s&&!1!==d&&D){for(var Y=M.length,z=null,q=0;q<Y;q++){var W=M[q];if(W.char!==p&&!1===W.isNew)break;if(W.char===p){z=q;break}}null!==z?(I+=$,M.splice(z,1)):F--}else I+=$;continue e}T=!0}!1===g&&(I+=h.substr(F,C));break}I+=N}if(g&&!1===D){for(var B=null,R=0;R<I.length;R++)h[R]===p&&(B=R);I=null!==B?I.substr(0,B+1):s}return{conformedValue:I,meta:{someCharsRejected:T}}}Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=a;var n=i(3),o=i(1),l=[],s=""},function(e,t,i){"use strict";function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d.placeholderChar;if(!r(e))throw new Error("Text-mask:convertMaskToPlaceholder; The mask property must be an array.");if(-1!==e.indexOf(t))throw new Error("Placeholder character must not be used as part of the mask. Please specify a character that is not present in your mask as your placeholder character.\n\nThe placeholder character that was received is: "+JSON.stringify(t)+"\n\nThe mask that was received is: "+JSON.stringify(e));return e.map((function(e){return e instanceof RegExp?t:e})).join("")}function r(e){return Array.isArray&&Array.isArray(e)||e instanceof Array}function n(e){return"string"==typeof e||e instanceof String}function o(e){return"number"==typeof e&&void 0===e.length&&!isNaN(e)}function l(e){return null==e}function s(e){for(var t=[],i=void 0;-1!==(i=e.indexOf(c));)t.push(i),e.splice(i,1);return{maskWithoutCaretTraps:e,indexes:t}}Object.defineProperty(t,"__esModule",{value:!0}),t.convertMaskToPlaceholder=a,t.isArray=r,t.isString=n,t.isNumber=o,t.isNil=l,t.processCaretTraps=s;var d=i(1),u=[],c="[]"},function(e,t){"use strict";function i(e){var t=e.previousConformedValue,i=void 0===t?r:t,n=e.previousPlaceholder,o=void 0===n?r:n,l=e.currentCaretPosition,s=void 0===l?0:l,d=e.conformedValue,u=e.rawValue,c=e.placeholderChar,f=e.placeholder,p=e.indexesOfPipedChars,m=void 0===p?a:p,h=e.caretTrapIndexes,v=void 0===h?a:h;if(0===s||!u.length)return 0;var b=u.length,g=i.length,y=f.length,_=d.length,C=b-g,A=C>0;if(C>1&&!A&&0!==g)return s;var x=0,D=void 0,k=void 0;if(!A||i!==d&&d!==f){var S=d.toLowerCase(),E=u.toLowerCase().substr(0,s).split(r).filter((function(e){return-1!==S.indexOf(e)}));k=E[E.length-1];var P=o.substr(0,E.length).split(r).filter((function(e){return e!==c})).length,M=f.substr(0,E.length).split(r).filter((function(e){return e!==c})).length,O=M!==P,w=void 0!==o[E.length-1]&&void 0!==f[E.length-2]&&o[E.length-1]!==c&&o[E.length-1]!==f[E.length-1]&&o[E.length-1]===f[E.length-2];!A&&(O||w)&&P>0&&f.indexOf(k)>-1&&void 0!==u[s]&&(D=!0,k=u[s]);for(var I=m.map((function(e){return S[e]})),T=I.filter((function(e){return e===k})).length,F=E.filter((function(e){return e===k})).length,N=f.substr(0,f.indexOf(c)).split(r).filter((function(e,t){return e===k&&u[t]!==e})).length,j=N+F+T+(D?1:0),$=0,V=0;V<_&&(x=V+1,S[V]===k&&$++,!($>=j));V++);}else x=s-C;if(A){for(var Y=x,z=x;z<=y;z++)if(f[z]===c&&(Y=z),f[z]===c||-1!==v.indexOf(z)||z===y)return Y}else if(D){for(var q=x-1;q>=0;q--)if(d[q]===k||-1!==v.indexOf(q)||0===q)return q}else for(var W=x;W>=0;W--)if(f[W-1]===c||-1!==v.indexOf(W)||0===W)return W}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var a=[],r=""},function(e,t,i){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){var t={previousConformedValue:void 0,previousPlaceholder:void 0};return{state:t,update:function(i){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,r=a.inputElement,m=a.mask,v=a.guide,b=a.pipe,g=a.placeholderChar,y=void 0===g?f.placeholderChar:g,_=a.keepCharPositions,C=void 0!==_&&_,A=a.showMask,x=void 0!==A&&A;if(void 0===i&&(i=r.value),i!==t.previousConformedValue){(void 0===m?"undefined":s(m))===h&&void 0!==m.pipe&&void 0!==m.mask&&(b=m.pipe,m=m.mask);var D=void 0,k=void 0;if(m instanceof Array&&(D=(0,c.convertMaskToPlaceholder)(m,y)),!1!==m){var S=o(i),E=r.selectionEnd,P=t.previousConformedValue,M=t.previousPlaceholder,O=void 0;if((void 0===m?"undefined":s(m))===f.strFunction){if(!1===(k=m(S,{currentCaretPosition:E,previousConformedValue:P,placeholderChar:y})))return;var w=(0,c.processCaretTraps)(k);k=w.maskWithoutCaretTraps,O=w.indexes,D=(0,c.convertMaskToPlaceholder)(k,y)}else k=m;var I={previousConformedValue:P,guide:v,placeholderChar:y,pipe:b,placeholder:D,currentCaretPosition:E,keepCharPositions:C},T=(0,u.default)(S,k,I).conformedValue,F=(void 0===b?"undefined":s(b))===f.strFunction,N={};F&&(!1===(N=b(T,l({rawValue:S},I)))?N={value:P,rejected:!0}:(0,c.isString)(N)&&(N={value:N}));var j=F?N.value:T,$=(0,d.default)({previousConformedValue:P,previousPlaceholder:M,conformedValue:j,placeholder:D,rawValue:S,currentCaretPosition:E,placeholderChar:y,indexesOfPipedChars:N.indexesOfPipedChars,caretTrapIndexes:O}),V=j===D&&0===$?x?D:p:j;t.previousConformedValue=V,t.previousPlaceholder=D,r.value!==V&&(r.value=V,n(r,$))}}}}}function n(e,t){document.activeElement===e&&(v?b((function(){return e.setSelectionRange(t,t,m)}),0):e.setSelectionRange(t,t,m))}function o(e){if((0,c.isString)(e))return e;if((0,c.isNumber)(e))return String(e);if(null==e)return p;throw new Error("The 'value' provided to Text Mask needs to be a string or a number. The value received was:\n\n "+JSON.stringify(e))}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e},s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=r;var d=a(i(4)),u=a(i(2)),c=i(3),f=i(1),p="",m="none",h="object",v="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),b="undefined"!=typeof requestAnimationFrame?requestAnimationFrame:setTimeout}])}}]);